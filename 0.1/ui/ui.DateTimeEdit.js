Std.ui.module("DateTimeEdit",{parent:"LineEdit",option:{minWidth:32,minHeight:12,defaultClass:"StdUI_DateTimeEdit",format:"yyyy-MM-dd h:m:s"},"private":{picker:null,pickerState:!1},extend:{initEvents:function(){{var e=this;e.opts}},remove:function(){var e=this;e._picker&&e._picker.remove(),e.removeDocumentEvents()}},"protected":{initHandle:function(){var e=this;return e[0].append(e.D.handle=newDiv("_handle").mouse({click:function(){e._pickerState?e.hidePicker():e.showPicker()}})),e},initPicker:function(){var e=this,t=e.opts,i=e._picker=Std.ui("DatePicker",{footer:t.footer,format:t.format,renderTo:"body"});return isEmpty(e.value())||i.value(e.value()),i.on("dateClick",function(){e.hidePicker(),e.value(i.value())}),i[0].css("position","absolute"),e},addDocumentEvents:function(){var e=this;return Std.dom(document).on("mousedown",e._documentEvents||(e._documentEvents=function(t){e[0].contains(t.target)||e._picker[0].contains(t.target)||(e.hidePicker(),e.removeDocumentEvents())})),e},removeDocumentEvents:function(){var e=this;return e._documentEvents&&Std.dom(document).off("mousedown",e._documentEvents),e}},"public":{showPicker:function(){var e=this;e._picker||e.initPicker();var t=e._picker,i=e[0].offset(),n=i.y+e.height();return t[0].removeClass("StdUI_DateTimeEdit_Animate2").addClass("StdUI_DateTimeEdit_Animate1").css({top:n+t.height()>=Std.dom(document).height()?i.y-t.height():n,left:i.x,zIndex:Std.ui.status.zIndex++}),e.addDocumentEvents(),e._pickerState=!0,e},hidePicker:function(){var e=this,t=e._picker;return t[0].removeClass("StdUI_DateTimeEdit_Animate1").addClass("StdUI_DateTimeEdit_Animate2"),e.removeDocumentEvents(),e._pickerState=!1,e}},main:function(e){e.initHandle()}});