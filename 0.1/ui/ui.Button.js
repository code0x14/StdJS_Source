Std.ui.module("Button",{nodeName:"a",parent:"widget",events:"checked mousedown mouseup click press longpress focus blur",action:{content:"text"},option:{level:2,text:"Button",href:"",menu:null,link:!1,icon:null,iconClass:null,target:"_blank",defaultClass:"StdUI_Button",checkable:!1,checked:!1,styleType:"text",iconWidth:18,iconHeight:18,boxSizing:"border-box"},extend:{render:function(){this.initEvents(),this.initMouse()},width:function(t){var e=this,n=e.D.table;n.width(isNumber(t)?t-e.boxSize.width:t)},height:function(t){var e=this,n=e.D.table;n.height(isNumber(t)?t-e.boxSize.height:t)}},"protected":{press:function(){var t=this,e=t.opts;return Std.func(e.press).call(t),e.checkable&&t.checked(!e.checked),t.emit("press")},initButtonBox:function(){var t=this;return t.D.tbody=newDom("tbody").appendTo(t.D.table=newDom("table","_buttonBox _"+t.opts.styleType).appendTo(t[0])),t},initEvents:function(){var t=this,e=!1;return t[0].on("focusin",function(){t.addClass("focus").emit("focus"),e===!1&&(t.initKeyboard().on("focusout",function(){t.emit("blur"),t[0].removeClass("focus")}),e=!0)}),t},initMouse:function(){var t=this,e=t.opts;return t[0].mouse({unselect:!0,down:function(e){t.emit("mousedown",e)},up:function(e){t.emit("mouseup",e)},click:function(n){e.enable&&(t.press().emit("click",n),Std.func(e.click).call(t,n))},longpress:function(e){t.emit("longpress",e)}}),t},initKeyboard:function(){var t=this;return t[0].keyboard({classStatus:!0,keyCode:function(t){return 32===t.which||13===t.which?!0:void 0},down:function(t){t.preventDefault()},press:function(){return t.opts.enable?(t.press(),!1):void 0}}),t},initElements:function(){var t=this.initButtonBox(),e=t.opts,n=t.D;switch(e.styleType){case"text":n.tr1=newDom("tr").append([n.text=newDom("td","_text")]).appendTo(n.tbody);break;case"icon":n.tr1=newDom("tr").append([newDom("td").append(n.icon=newDiv("_icon"))]).appendTo(n.tbody);break;case"textBesideIcon":n.tr1=newDom("tr").append([newDom("td").append(n.icon=newDiv("_icon")),n.text=newDom("td","_text")]).appendTo(n.tbody);break;case"textUnderIcon":n.tbody.append([n.tr1=newDom("tr").append(newDom("td").append(n.icon=newDiv("_icon"))),n.tr2=newDom("tr").append(n.text=newDom("td","_text"))])}return t}},"public":{checkable:function(t){return this.opt("checkable",t)},href:function(t){return this.opt("href",t,function(){this[0].attr("href",t)})},target:function(t){return this.opt("target",t,function(){this[0].attr("target",t)})},iconWidth:function(t){var e=this;return e.opt("iconWidth",t,function(){e.D.icon&&e.D.icon.width(t)})},iconHeight:function(t){var e=this;return e.opt("iconHeight",t,function(){e.D.icon&&e.D.icon.height(t)})},link:function(t){var e=this,n=e.opts;return e.opt("link",t,function(){t===!0?(e.target(n.target),e.href(n.href)):e[0].removeAttr("href")})},text:function(t){var e=this,n=e.D;return e.opt("text",t,function(){"icon"!==e.opts.styleType&&n.text.html(t)})},checked:function(t){var e=this;return e.checkable()?e.opt("checked",t,function(){return e.toggleClass("checked",t).emit("checked",t)}):void 0===t?e.opts.checked:e},icon:function(t){var e=this,n=e.D;return e.opt("icon",t,function(){"text"!==e.opts.styleType&&(n.iconImg||(n.iconImg=newDom("img").appendTo(n.icon)),n.iconImg.attr("src",t))})},iconClass:function(t){var e=this,n=e.D;return e.opt("iconClass",t,function(){"text"!==e.opts.styleType&&n.icon.className("_icon "+t)})},styleType:function(t){var e=this,n=e.opts;return e.opt("styleType",t,function(){e.D.table&&Std.each(e.D,function(t,n){n.remove(),delete e.D[t]}),e.initElements(),e.call_opts("text").call_opts({icon:null,iconClass:null,checked:!1,link:!1},!0),e.iconWidth(n.iconWidth).iconHeight(n.iconHeight)})}},main:function(t,e){t.D={},t.styleType(e.styleType)}}),Std.ui.module("ToolButton",{nodeName:"a",parent:"Button",option:{defaultClass:"StdUI_Button StdUI_ToolButton",tabIndex:null,height:32,iconWidth:24,iconHeight:24,text:""}});