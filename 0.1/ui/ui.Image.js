Std.css({".StdUI_Image":{outline:"none",overflow:"hidden",">":{img:{"float":"left",width:"100%",height:"100%",border:0}}}}),Std.ui.module("Image",{parent:"widget",action:{content:"value"},option:{defaultClass:"StdUI_Image",level:1,width:22,height:22,type:"stretch",value:"",zoom:!0,gray:!1},"public":{zoom:function(t){var e=this,i=e.D;return e.opt("zoom",t,function(){i.img&&i.img&&i.img.css(t?{width:"100%",height:"100%"}:{width:"auto",height:"auto"})})},toBase64:function(){var t=this,e=newDom("canvas").dom,i=e.getContext("2d");e.width=t._image.width,e.height=t._image.height,i.drawImage(t._image,0,0);var a=i.getImageData(0,0,e.width,e.height);return i.putImageData(a,0,0,0,0,a.width,a.height),e.toDataURL()},value:function(t){var e=this,i=e.D;return this.opt("value",t,function(){e._image=null,i.img||(e[0].append(i.img=newDom("img")),e.zoom(e.opts.zoom)),Std.loader.image(t,function(a,o){a!==!1&&(i.img.attr("src",t).show(),e.emit("load",e._image=o).gray(e.opts.gray))})})},gray:function(t){var e=this;return e.opt("gray",t,function(){var i=e.opts.value;isEmpty(i)||null===e._image||t!==!1&&(Std.is.ie()?e[0].css("filter","grayscale(100%)"):e[0].css("filter",t?"progid:DXImageTransform.Microsoft.BasicImage(grayscale=1)":""),e.emit("gray",t))})}},main:function(t){t.D={},t.call_opts("value",!0)}});