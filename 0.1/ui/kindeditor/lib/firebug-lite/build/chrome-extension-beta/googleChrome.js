Firebug.extend(function(FBL){with(FBL){if(!Env.isChromeExtension)return;var channel,channelEvent;Firebug.GoogleChrome=extend(Firebug.Module,{initialize:function(){var e=FBL.Env.browser.document;e.getElementById("FirebugChannel")||(channel=e.createElement("div"),channel.id="FirebugChannel",channel.firebugIgnore=!0,channel.style.display="none",e.documentElement.insertBefore(channel,e.documentElement.firstChild),channelEvent=document.createEvent("Event"),channelEvent.initEvent("FirebugChannelEvent",!0,!0),channel.addEventListener("FirebugChannelEvent",onFirebugChannelEvent))},dispatch:function(e){channel.innerText=e,channel.dispatchEvent(channelEvent)}});var onFirebugChannelEvent=function(){var e=channel.innerText;if(0==e.indexOf("FB_contextMenuClick")){var n=FBL.Env.browser.document,t=e.split(",")[1],i=getElementsByXPath(n,t)[0];Firebug.chrome.toggle(!0),setTimeout(function(){Firebug.chrome.selectPanel("HTML"),Firebug.HTML.select(i)},50)}else"FB_toggle"==e?Firebug.chrome.toggle():"FB_openInNewWindow"==e&&setTimeout(function(){Firebug.chrome.toggle(!0,!0)},0)},getElementsByXPath=function(e,n){var t=[];try{for(var i=e.evaluate(n,e,null,XPathResult.ANY_TYPE,null),r=i.iterateNext();r;r=i.iterateNext())t.push(r)}catch(l){}return t};Firebug.registerModule(Firebug.GoogleChrome)}});