Std.ui.module("SwitchBox",{parent:"widget",events:"change",option:{level:1,defaultClass:"StdUI_SwitchBox",height:26,value:null,items:null,styleType:"default"},action:{content:"value"},"private":{selected:null},extend:{render:function(){var e=this;e.call_opts(["styleType","value"]),e.repaint()},height:function(e){var t=this;isNumber(e)||(e=t.height()),t[0].lineHeight(e-=t.boxSize.height),t[1]&&t[1].height(e-2).lineHeight(e-2)}},"protected":{length:0,initHandle:function(){var e=this;if(void 0==e[1]){var t=e.height()-e.boxSize.height-2;e[1]=newDiv("_handle").appendTo(e[0]),e[1].height(t).lineHeight(t)}return e},initEvents:function(){var e=this;return e[0].unselect(!0).delegate("click","._item",function(){if(e.enable()){var t=this.index("._item"),i=e.items[t];i!==e._selected&&(e._selected=i,e.emit("change",e.opts.value=i.value)),e.initHandle()[1].html(i.dom.html()).animate("stop").animate({to:{width:i.dom.width()-2,left:i.dom.offsetLeft()}},100)}}),e}},"public":{styleType:function(e){return this.opt("styleType",e,function(){this.addClass("_"+e)})},refresh:function(){var e=this,t=e.opts.width,i=e._selected;return null===i?e:(e[1]||e.initHandle(),t="auto"===t?i.dom.outerWidth():t/e.length-e.boxSize.width,e[1].dom.innerHTML=i.dom.html(),e[1].css({left:i.dom.offsetLeft(),width:t-2}),e)},repaint:function(){for(var e=this,t=e.items,i=e.opts.width,n=e.boxSize.width,h=0;h<e.length;h++){var a=0;a="auto"===i?t[h].dom.outerWidth()+18:i/e.length-n,t[h].dom.width(0!==h?a+1:a)}return e.refresh()},value:function(e){var t=this;return t.opt("value",e,function(){for(var i=0;i<t.length;i++)if(t.items[i].value===e){t._selected=t.items[i];break}t.renderState&&t.refresh(),t.emit("change",e)})},append:Std.func(function(e,t){var i=this,n=newDiv("_item");isObject(e)&&(t=e.value,e=e.text),isString(e)&&n.append(newDiv("_name").html(e)),i.length++>0&&i[0].append(newDiv("_sep")),i.items.push({text:e,value:t,dom:n}),i[0].append(n)},{each:[isArray,isString]})},main:function(e,t){e.items=[],e.initEvents(),t.items&&e.append(t.items)}});