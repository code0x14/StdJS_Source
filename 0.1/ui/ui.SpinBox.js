Std.ui.module("SpinBox",{parent:"LineEdit",option:{min:"infinite",max:"infinite",minWidth:32,minHeight:12,defaultClass:"StdUI_SpinBox",validator:"Number"},extend:{initEvents:function(){var e=this,n=e.opts;e.D.input.on({keydown:function(e){var n=e.which,i=e.keyCode,t=this.value();switch(!0){case 190===i&&!t.has("."):isEmpty(t)&&this.value("0");break;case i>36&&41>i:case 173===n&&0===t.length:case 8===i||13===i:case n>47&&58>n:"0"==t&&this.value("");break;case 9===i:break;default:e.preventDefault()}},keyup:function(){var i=this.value();"infinite"!==n.min&&i<n.min?e.value(n.min):"infinite"!==n.max&&i>n.max&&e.value(n.max)}})}},"protected":{initHandle:function(){var e=this,n=function(){e.value(~~e.value()+1).select()},i=function(){e.value(~~e.value()-1).select()};return e[0].append(e.D.handles=newDiv("_handles").append([e.D.add=newDiv("_handle _add").mouse({down:n,longpress:n}),e.D.subtract=newDiv("_handle _subtract").mouse({down:i,longpress:i})]).on("mousedown",function(e){e.preventDefault()})),e}},"public":{value:function(e){var n=this,i=n.opts,t=n.D;return void 0===e?float(t.input.value()):(isNumber(e)||(e=float(e)),"infinite"!==i.min&&e<i.min&&(e=i.min),"infinite"!==i.max&&e>i.max&&(e=i.max),n.placeHolderState(""===e),t.input.value(e+""),n)}},main:function(e){e.initHandle()}});