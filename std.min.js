/**
    Std Javascript Library v0.2
    http://www.StdJS.com
*/
!function(e,t,n,r,i,o,a,u,s,c,l,f,d){var h,p,m,v,g,b,y,k,w,x,_,S,T,C,F,A,L,E,N,z,H,D,B,P,j,M,W=e.Std=function(e,t){return t===r&&a(e)?W.modules[e]||n:W.create.apply(this,arguments)};W.version=.2,W.models={},W.modules={},W.eval=function(t){var n=e&&e.eval;return n?n(t):new Function(t)()},W.init=function(){var n,r,i,o,u="opacity",s="animation",c="keyframes",l=!!e.ActiveXObject,f=l&&!e.XMLHttpRequest,d=l&&!!t.documentMode,h=l&&!f&&!d,p={ie:{n:l,6:f,7:h,8:d},on:i={},cssName:o={}},m=function(e){return t.createElement(e)};return!function(){var e=m("a"),l=e.style;e.innerHTML="  <link/><table></table><script>;</script>",l.cssText="top:1px;float:left;"+u+":.5;",n=p.css={inlineBlock:f||h,opacity:/^0.5/.test(l[u]),cssFloat:!!l.cssFloat},r=p.dom={dataset:!!e.dataset,tbody:!e.getElementsByTagName("tbody").length,innerFullHTML:3!==e.firstChild.nodeType,outerHTML:!!e.outerHTML,htmlSerialize:!!e.getElementsByTagName("link").length,contains:!!e.contains,compareDocPos:!!e.compareDocumentPosition,cloneBug:""==e.lastChild.cloneNode(!0).innerHTML};for(var d=["submit","focusin","change"],v=0,g=d.length;g>v;v++){var b=d[v],y="on"+b;(i[b]=y in t)||(e.setAttribute(y,"t"),i[b]=e.attributes[y].expando===!1)}for(var k in l)if(g=k.length,a(k)&&k.toLowerCase().substring(g-9)===s){k=k==s?"":"-"+k.substr(0,g-9)+"-",p.anim=k+c,o.animation=k+s;break}}(),!function(){var r=p.platformPrefix={O:"-o-",MS:"-ms-",Moz:"-moz-",WebKit:"-webkit-"},i="",a=e.getComputedStyle;if(a){for(var u=e.getComputedStyle(t.documentElement,""),s=0,c=u.length;c>s;s++){var l=u[s];if("-"===l.charAt(0))for(var f in r){var d=r[f];if(0==l.indexOf(d)){""===i&&(i=d);var h=l.substring(d.length);-1!=h.indexOf("-")&&(h=h.replace(/-([a-z])/gi,function(e,t){return t.toUpperCase()}).toString()),o[h]=l}}}n.prefix=i}}(),p}(),h=W.each=function(e,t,o,a){var u=n,c=typeof e;if(!e||!i(t))return n;if("string"===c&&(e=e.split(a===r?" ":a)),s(e)){o===!0&&(u=[]);for(var l=0,f=e.length;f>l;l++){var d=t.call(e,l,e[l]);if(d!==r){if(o!==!0)return d;u.push(d)}}}else if("object"===c||"function"===c){o===!0&&(u={});for(var h in e){var d=t.call(e,h,e[h]);if(d!==r){if(o!==!0)return d;u[h]=d}}}return u},p=W.extend=function(e,t,n,r){if(!e||!u(t)&&!i(t))return e;var o,a,l,f="__Std__";switch(n){case 1:for(o in t)o!==f&&(a=t[o],l=e[o],s(a)?s(l)?e[o].mergeArray(a):e[o]=[].mergeArray(a):e[o]=a);break;case 2:for(o in t)a=t[o],l=e[o],a!==t&&o!==f&&(e[o]=c(a)&&c(l)&&!s(a)&&!s(l)?p(l,a,2):a);break;case 3:for(o in t)a=t[o],l=e[o],a!==t&&o!==f&&(s(a)?s(l)?e[o].mergeArray(a):e[o]=[].mergeArray(a):e[o]=c(a)&&c(l)&&!s(a)&&!s(l)?p(l,a,3):a);break;default:for(o in t)r===!1&&o in e||o!==f&&(e[o]=t[o])}return e},p(Math,{over:function(e,t){return 0===t?0:e/t},rand:function(e,t){return e=t===r?Math.random()*e:Math.random()*(t-e)+e}}),p(Function.prototype,{bind:function(){var e=this,t=Array.prototype.slice,n=t.call(arguments),r=n.shift();return function(){return e.apply(r,n.concat(t.call(arguments)))}}},0,!1),p(Array,{slice:function(e,t,n){return Array.prototype.slice.call(e,t,n)},from:function(e){var t,n=e.length;if(u(e))if(t=[],o(n))for(var r=0;n>r;r++)t[r]=e[r];else for(var i in e)t.push(e[i]);else a(e)&&(t=e.split(""));return t}},0,!1),p(Array.prototype,{each:function(e,t,n){return h.call(this,this,e,t,n)},has:function(e){return-1!==this.indexOf(e)},exist:function(e){return this.has(e)},clear:function(){return this.remove()},insert:function(e,t){return this.splice(t,0,e),this},last:function(){return this[this.length-1]},merge:function(){for(var e=0,t=arguments,n=t.length;n>e;e++)this.mergeArray(t[e]);return this},union:function(){for(var e=0,t=arguments,n=t.length;n>e;e++)this.mergeArray(t[e],!0);return this},push_uniq:function(e){var t=this;return t.has(e)||t.push(e),t},swap:function(e,t){var n=this,r=n[e];return n[e]=n[t],n[t]=r,n},indexOf:function(e,t){var n=this,i=n.length;for(t=t===r?0:t;i>t;t++)if(e===n[t])return t;return-1},move:function(e,t){var n=this,r=n.length;if(e!==t&&e>=0&&r>=e&&t>=0&&r>=t){var i=n[e];if(t>e)for(;t>e;)n[e]=n[++e];else for(;e>t;)n[e]=n[--e];n[t]=i}return n},unique:function(){for(var e=this,t=e.length,n=[],r=0,i=0;t>i;i++)-1==n.indexOf(e[i])&&(n[r++]=e[i]);for(var o=0;r>o;o++)e[o]=n[o];return e.length=r,e},mergeArray:function(e,t){var n=this;if(u(e))for(var r=e.length||0,i=0;r>i;i++)t===!0&&n.has(e[i])||n.push(e[i]);return n},order:function(e){var t=n;return"asc"===e?t=function(e,t){return e>t}:"desc"===e&&(t=function(e,t){return t>e}),this.sort(t)},remove:function(e){var t=this;if(e===r)t.length=0;else if(o(e))t.splice(e,1);else if(s(e)){for(var n=[],i=0,a=t.length;a>i;i++){var u=e.indexOf(i);-1===u?n.push(t[i]):e.splice(u,1)}for(i=0,a=t.length=n.length;a>i;i++)t[i]=n[i]}return t}},0,!1),p(String.prototype,{trim:function(){return this.replace(/(^\s*)|(\s*$)/g,"")},left:function(e){return this.substr(0,e)},right:function(e){return this.substring(this.length-e)},isNumber:function(){return w.number(this)},capitalize:function(){return this.charAt(0).toUpperCase()+this.substr(1)},has:function(e){return-1!==this.indexOf(e)},retype:function(){var e=this.toString();return"true"===e?e=!0:"false"===e?e=!1:"null"===e?e=n:w.number(e)&&(e=int(e)),e},byteLen:function(){for(var e=this,t=e.length,n=t-1;n>=0;n--){var r=e.charCodeAt(n);r>127&&2047>=r?t++:r>2047&&65535>=r&&(t+=2)}return t},between:function(e,t,r){var i=this,a=o(e)?e:i.indexOf(e,r),u=o(t)?t:i.indexOf(t,a+e.length);return-1===a||-1===u?n:i.substring(a+e.length,u)},reverse:function(){for(var e="",t=this.length-1;t>=0;t--)e+=this.charAt(t);return e},toObject:function(){var e=this.trim();if(e.length<2)return n;var t=e.charAt(0),r=e.substring(e.length-1);return"["==t&&"]"==r||"{"==t&&"}"==r?new Function("return "+e)()||n:n},count:function(e){var t=0,n=this,i=-1;if(e===r)return n.length;for(;-1!=(i=n.indexOf(e,i+1));)t++;return t},line:function(e,t){var n=0,r=this.toString(),i=-1;do if(++n===e){var o=r.indexOf("\n",i+1);return t===!0?i+1:r.substring(i,o)}while(-1!=(i=r.indexOf("\n",i+1)));return r},camelCase:function(e){var t=this;return e===!0&&(t=t.capitalize()),-1!=t.indexOf("-")?t.replace(/-([a-z])/gi,function(e,t){return t.toUpperCase()}):t.toString()},unCamelCase:function(){return this.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})},utf8Encode:function(){return unescape(encodeURIComponent(this))},utf8Decode:function(){try{return decodeURIComponent(escape(this))}catch(e){return this}}},0,!1),p(Number.prototype,{"float":function(e){var t=Math.pow(10,e===r?0:e);return Math.round(this*t)/t},isFloat:function(){return 0!=Math.ceil(this)-this}}),p(Date,{time:function(){return(new Date).getTime()}},0,!1),p(Date.prototype,{format:function(e,t){var n=this;if(t===r){var i={"M+":n.getMonth()+1,"d+":n.getDate(),"h+":n.getHours(),"m+":n.getMinutes(),"s+":n.getSeconds(),"q+":Math.floor((n.getMonth()+3)/3),S:n.getMilliseconds()};l(e)&&(e="yyyy-M-d h:m:s"),/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(n.getFullYear()+"").substr(4-RegExp.$1.length)));for(var o in i)new RegExp("("+o+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?i[o]:("00"+i[o]).substr((""+i[o]).length)));return e}for(var a={},u="y M d h m s".split(" "),s="",c=[],f=0,d=-1,h=e.length;h>f;f++){var p=e.charAt(f),m=-1!=u.indexOf(p);m&&p!==s?c[++d]=s=p:m||p===s?c[d]+=p:c[++d]=s=p}for(f=0,d=0,h=c.length;h>f;f++){var v=c[f],g=t.substring(d,d+=v.length);if(!g)break;-1!=u.indexOf(v.charAt(0))&&(a[v.charAt(0)]=~~g)}for(var b in a){var y=~~a[b];"y"==b?y.length<4?n.setYear(y):n.setFullYear(y):"M"==b?n.setMonth(y-1):"d"==b?n.setDate(y):"h"==b?n.setHours(y):"m"==b?n.setMinutes(y):"s"==b&&n.setSeconds(y)}return n}},0,!1),p(e,{"int":parseInt,"float":function(e,t){var n=parseFloat(e);return t===!0?0!=Math.ceil(n)-n:n},newDom:function(e,n){var r=t.createElement(e);return"string"==typeof n&&(r.className=n),new B(r,!1)},newDiv:function(e){return newDom("div",e)},sprintf:function(){for(var e=arguments,t=e.length,n=arguments[0],r=1,i="",o=0,a=n.length;a>o;o++){var u=n.charAt(o);if(a-1>o&&"%"==n.charAt(o)){var s=n.charAt(o+1);if("%"==s)i+="%";else if(t>r){var c=e[r];switch(s){case"c":i+=(c+"").charAt(0);break;case"s":i+=c+"";break;case"d":i+=int(c);break;case"f":i+=float(c);break;case"o":i+=int(c).toString(8);break;case"x":i+=int(c).toString(16);break;case"X":i+=int(c).toString(16).toUpperCase();break;case".":if(a-3>o){var l=int(n.charAt(o+2));l>0&&"f"==n.charAt(o+3)&&(i+=float(c).toFixed(l),o+=2)}}r++}o++}else i+=u}return i}}),W.count=function(e){var t=0;if(s(e)||a(e))t=e.length;else if(u(e))if("length"in e&&o(e.length))t=e.length;else for(var n in e)e.hasOwnProperty(n)&&t++;else t++;return t},m=W.func=function(e,t){if(e==r)return function(){};if(e===!1)return function(){return e};a(e)&&(e=new Function(e));var c=n,f=n,d=0,p=!1,v=!1,g=!1,b=!0,y=" ",k="array",w="object",x="string",_=[Array,s,k],S=[Object,u,w],T=[String,a,x],C=function(t,n,i,o,a){var u,c=f||this;if(t===r)0!==d&&d.call(c),u=e.call(c);else if(p===!0&&s(t))for(var l=0,m=t.length;m>l;l++)C.call(c,t[l],n,i,o,a);else if(g===!0&&typeof t===x)-1===t.indexOf(" ")?e.call(c,t,n,i,o,a):h(t,function(t,r){e.call(c,r,n,i,o,a)},!1,y);else if(v===!0&&typeof t===w)for(var k in t)e.call(c,k,t[k],i,o,a);else 0!==d&&d.call(c,t,n,i,o,a),u=e.call(c,t,n,i,o,a);return u===r&&b===!0&&(u=c),u};if(u(t)){var F=t.each||t.a,A=t.split||t.b,L=t.parent||t.c,E=t.delay||t.d,N=t.packages||t.f;if(f=t.bind||t.e,t.rebuild&&(e=m.rebuild(e)),t.chaining===!1&&(b=!1),a(A)&&(y=A),o(E)&&(c=E),s(F)?h(F,function(e,t){_.has(t)?p=!0:S.has(t)?v=!0:T.has(t)&&(g=!0)}):u(F)&&(l(F[k])||(p=F[k]),l(F[w])||(v=F[w]),l(F[x])||(g=F[x])),i(L)?d=L:s(L)&&(d=function(){for(var e=0,t=arguments,n=L.length;n>e;e++)L[e].apply(this,t)}),N){var z=C;C=function(){var e=this,t=arguments;return W.use(N,function(){z.apply(f||e,t)}),b===!0?e:r}}}else o(t)&&(c=t);return c!==n?function(){var e=f||this,t=arguments;return setTimeout(function(){C.apply(e,t)},c),e}:C},m.exec=function(e,t){return m(e,t)()},m.malloc=function(e,t){var n="prototype",r=function(){e.apply(this,t)};return r[n]=e[n],new r},m.rebuild=function(){},v=W.model=function(e,t){if(a(e)){if(t===r)return W.models[e]}else t===r&&u(e)&&(t=e);return u(t)?(a(e)&&(W.models[e]=t),t):{}},g=W.module=function(e,t,o){if(a(e)){if(t===r)return W.modules[e]||n}else o=t,t=e;o===r&&(o=W),i(t)&&!u(t=t.call(o));var c="__Std__",l="prototype",f=g.inheritance,d=t.model||t.a;a(d)&&(d=d.split(" ")),s(d)?h(d,function(e,r){var i=n;a(r)?i=v(r):u(r)&&(i=r),g.loadModel(t,i)}):u(d)&&g.loadModel(t,d);var y=t.parent||t.b||n,k=t.events||t.c||[],w=t.mix||t.d||n,x=t.option||t.e||n,_=t.static||t.f,S=t.extend||t.g||{},T=t.private||t.h,C=t.protected||t.i,A=t.public||t.j,L=t.main||t.k||m(),E=t.entrance||t.l,N=t.action||t.m||{},z=t.__constructor__||t.z,H=L;a(y)&&!(y=o.modules[y]);var D=function(){var e=arguments;y.apply(this,e),L.apply(this,e)};i(z)?(H=z,i(y)&&f(H,y)):1===t.type?i(y)?(H=function(e,t,n,r,i){return new D(e,t,n,r,i)},f(H,y),f(D,y)):(H=function(e,t,n,r,i){return new L(e,t,n,r,i)},L[l]=H[l]={}):i(y)&&(H=D,f(H,y));var B=H[l];if(a(k)&&(k=k.split(" ")),i(y)&&(y[l][c]&&(k=k.union(y[l][c].events)),g.extendMembers(H,S,y),p(H,y,3)),x!==n){var P={};if(i(y)){var j=y[l][c];u(j)&&(x=j.option.get(x))}x=P=new F(x),H.opts=function(e){return e===r?x:(x&&x.set(e),void 0)},B.opt=function(e,t,n){var i=this;if(t===r)return i.opts[e];if(i.opts[e]=t,"function"==typeof n){var o=n.call(i);if(o!==r)return o}return i},B.init_opts=function(e){return this.opts=P.get(e)},B.call_opts=function(e,t){var n=this,r=n.opts,i=n.__Std__.option;if(a(e))t===!0?r[e]!==i.get(e)&&n[e](r[e]):n[e](r[e]);else if(s(e))for(var o=0,c=e.length;c>o;o++){var l=e[o];t===!0?r[l]!==i[l]&&n[l](r[l]):n[l](r[l])}else if(u(e))for(var l in e)t===!0?r[l]!==e[l]&&n[l](r[l]):n[l](e[l]);return n}}return s(w)?h(w,function(e,t){p(H,t,3),p(B,t[l],3)}):(u(w)||i(w))&&(p(H,w,3),p(B,w[l],3)),u(_)&&p(H,_,3),u(C)&&h(C,function(e,t){B["_"+e]=t}),u(T)&&p(B,T,3),u(A)&&p(B,A,3),i(E)&&E.call(H,H,B),u(N)||(N={}),i(y)&&(N=p(p({},y[l][c].action,3),N)),h(N,function(e,t){b[0](t,B[e])?N[e]=B[e]:i(t)&&(N[e]=t)}),B[c]={type:t.type||0,model:d||n,parent:y,option:x,events:k,action:N,main:L},a(e)&&(o.modules[e]=H),H},g.inheritance=function(e,t){var n="prototype",r=m();return r[n]=t[n],e[n]=new r,e[n].constructor=e,e},g.extendMembers=function(e,t,n){return h(t,function(t,o){var a=n.prototype[t];i(a)&&i(o)&&(e.prototype[t]=function(){var e=this,t=arguments,n=a.apply(e,t);return n!==e&&n!==r?n:((n=o.apply(e,t))===r&&(n=e),n)})}),e},g.loadModel=function(e,t){var n="events",r=t[n]||t.c,i=e[n];return a(r)&&(r=r.split(" ")),s(r)&&(i?(a(i)&&(i=i.split(" ")),s(i)&&(e[n]=[].union(r,i))):e[n]=r),h({parent:"b",main:"k",entrance:"l"},function(n,r){var i=t[n]||t[r],o=e[n]||e[r];!o&&i&&(e[n]=i)}),h({mix:"d",option:"e","static":"f",extend:"g","private":"h","protected":"i","public":"j",action:"m"},function(n,r){var i=t[n]||t[r];if(u(i)){var o=p(p({},i,3),e[n]||e[r]);e[r]?e[r]=o:e[n]=o}}),e},g.property=function(e,t,i){var o,a=e,s="prototype";if(i!==!0)return(o=a[s].__Std__)?o[t]:n;for(var c=[];(o=a[s].__Std__)&&u(o)&&o[t]!==r&&(c.push(o[t]),a=o.parent););return c},b=W.mold={0:function(e,t){return a(e)&&i(t)},1:function(e){return a(e)||o(e)},2:function(e,t){return t in e?e[t]:e[t]={}},3:function(e,t){return t in e?e[t]:e[t]=[]},or:function(e,t){for(var n=!1,r=0,i=e.length;i>r;r++)if(e[r]===t){n=!0;break}return n},ins:function(e,t){a(e)&&(e=e.split(" "));for(var n=0,r=e.length;r>n;n++)if(!(e[n]in t))return!1;return!0},ui:function(e,t,r){var o=n;if(i(r)&&(r=r()),a(t)){var s={text:t};r&&p(s,r),o=j(e,s)}else f(t)?o=t:u(t)&&(u(r)&&p(t,r),o=j(t.ui||e,t));return o},dataPath:function(e,t){if(!u(e)||!a(t)||l(t))return e;var n=e;return W.each(t,function(e,t){return(t=t.trim())in n?(n=n[t],void 0):!1},!1,"."),n}},W.create=function(e){if(a(e)){var t=W.modules[e];return t===n?t:m.malloc(t,Array.slice(arguments,1))}},W.unite=function(e,t,c){var l="prototype",f=W.unite.addMember,d=m(),p=t||m(),v=W.unite.methods;return d[l]=e[l],p[l]={length:0,_:function(e){var t=this,c=n;return e===r?c=t:a(e)?c=v[e].apply(t,Array[l].slice.call(arguments,1)):s(e)?c=v.merge.call(t,e):o(e)?c=t[e]:(i(e)||u(e))&&(c=v.push.call(t,e)),c},each:function(e){return v.each.call(this,e)}},h(new d,function(e,t){i(t)&&f(p,e)}),h(c,function(e,t){i(t)&&f(p,e)}),p},W.unite.addMember=function(e,t){e.prototype[t]=function(){for(var e=this,n=arguments,r=0,i=e.length;i>r;r++){var o=e[r][t];o&&o.apply(e[r],n)}return e}},W.unite.methods=function(){var e=Array.prototype,t={push:function(e){return this[this.length++]=e},splice:function(t,n){return e.splice.call(this,t,n),this},indexOf:function(t,n){return e.indexOf.call(this,t,n)},has:function(e){return-1!==t.has.call(this,e)},remove:function(e){return e===r?this.clear():t.splice.call(this,e,1)},clear:function(){for(var e=this;e.length>0;)delete e[--e.length];return e},merge:function(e){for(var t=this,n=0,r=e.length;r>n;n++)t[t.length++]=e[n];return t},each:function(e){for(var t=this,n=0,r=this.length;r>n&&e.call(t[n],n,t[n])!==!1;n++);return t}};return t}(),F=W.options=g({f:{data:{},get:m(function(e,t){var n=F.data[e];return n?n.get(t):{}},{each:[u,s]})},j:{get:function(e){if(a(e))return this.data.prototype[e];var t=new this.data;if(!u(e))return t;for(var n in e)t[n]=e[n];return t},set:m(function(e,t){this.data.prototype[e]=t},{each:[s,u]}),remove:m(function(e){delete this.data.prototype[e]},{each:[s]})},k:function(e,t){var n=this;if(n instanceof F)return n.data=m(),n.set(e);if(u(e))for(var r in e)F(r,e[r]);else a(e)&&u(t)&&(F.data[e]=new F(t));return F}}),v("events",function(){var e="__StdEvents__";return{j:{eventExist:function(t,n){var r=this[e];return r&&r[t]?i(n)?r[t].has(n):!0:!1},eventAssign:function(e,t){var r=this;if(!i(t))return r;if(a(e)&&(e=e.split(" ")),s(e))for(var o=e.length,u=[],c=0,l=function(e,i){u[e]=n,r.once(i,function(n){u[e]=n,++c==o&&t.apply(r,u)})},f=0;o>f;f++)l(f,e[f]);return r},on:m(function(t,n){var r=this,i=b[2](r,e);if(b[0](t,n)){var o=i[t];o||(o=i[t]=[]),o.push(n)}return r},{each:[s,u,a]}),off:m(function(t,n){var o=this,a=o[e];t===r?h(a,function(e){o.off(e)}):n===r&&t in a?a[t].clear():a&&i(n)&&h(a[t],function(e,r){r===n&&a[t].remove(e)})},{each:[s,u,a]}),once:m(function(e,t){var n=this;if(b[0](e,t)){var r=function(i){return n.off(e,r),t.call(n,i)};n.on(e,r)}},{each:[s,u,a]}),emit:m(function(t,n,r){var o,a=this,u=a[e];if(isBool(t))return a.emitTurn=t,a;if(!u||!(o=u[t])||a.emitTurn===!1)return a;var s=o.length,c=r===!0?"apply":"call";if(1===s)return o[0][c](a,n),void 0;for(var l=0;s>l;){var f=o[l];i(f)&&f[c](a,n),f===o[l]&&l++}},{each:[s,a]})}}}()),y=W.events=g({a:"events",f:{connect:function(e,t,n,r){var o="__StdConnection__",u=function(){var e=arguments;return i(r)?r.apply(n,e):b[0](r,n[r])?n[r].apply(n,e):(s(r)&&h(r,function(t,r){if(a(r)){if(i(n[r])&&n[r].apply(n,e)===!1)return!1}else if(i(r)&&r.apply(n,e)===!1)return!1}),void 0)};return e[o]||(e[o]={}),e[o][t]||(e[o][t]=[]),e[o][t].push({source:e,sourceEvent:t,target:n,targetMethod:r,handle:u}),e.on(t,u),y},disconnect:function(e,t,n,r){var i="__StdConnection__";if(!e||!e[i])return y;if(!e[i][t]){for(var t in e[i])y.disconnect(e,t);return y}return n?(h(e[i][t],function(o,a){(!r||a.target===n&&a.targetMethod===r)&&(a.source.off(t,a.handle),e[i][t].remove(o))}),y):(h(e[i][t],function(n,r){y.disconnect(e,t,r.target)}),y)}}}),W.hooker=g({"public":{hook:function(e,t){var n=this,r=n._hooks;return e in r?r[e].push(t):(r[e]=[t],n[e]=function(){for(var t=0,n=r[e].length;n>t;t++)if(r[e][t].apply(this,arguments)===!1)return!1;return!0}),!0},unhook:function(e,t){var n=this,i=n._hooks;return e in i?(t===r?(delete n[e],delete i[e]):h(i[e],function(e,n){return n===t?(this.remove(e),!0):void 0}),!0):!1},exec:function(e){var t=this;return e in t?t[e].apply(t,Array.slice(arguments,1)):!0}},k:function(){this._hooks={}}}),k=W.queue=g({type:1,a:"events",i:{done:!1},e:{worker:n,autorun:!1},h:{},j:{pos:0,length:0,prev:function(){return this.go(this.pos-1,arguments)},next:function(){return this.go(this.pos+1,arguments)},worker:function(e){return this.opt("worker",e)},done:function(){var e=this;return e._done=!0,e.next()},autorun:function(e){var t=this;return this.opt("autorun",e,function(){t.length>0&&t.go(0)})},has:function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return!0;return!1},merge:function(e){var t=this;if(!s(e))return t;for(var n=0,r=e.length;r>n;n++)t[t.length++]=e[n];return t},go:function(e){var t=this,n=t.length;return e===r&&(e=0),n-1>=e&&(t._done=!1,t[t.pos=e].apply(t,Array.slice(arguments,1))),e===n-1&&t.emit("complete"),t},exec:function(){for(var e=this,t=e.length,n=0;t>n;n++)e[e.pos=n].apply(e,arguments);return t>0&&e.emit("complete"),e},push:function(e){var t=this;return t[t.length++]=e,t.autorun()&&(1===t.length?t.go(0):t._done&&t.pos===t.length-2&&t.next()),t},append:function(e){var t=this;return i(e)?t.push(e):s(e)&&t.merge(e),t},add:function(){var e=this,t=arguments,n=e.opts.worker;return i(n)&&e.push(function(){n.apply(e,t)}),e},remove:function(e){var t=this;if(e===r)t.clear();else if(o(e)){delete t[e];for(var n=e+1;n<t.length;n++)n>0&&(t[n-1]=t[n],delete t[n]);t.length--}else if(i(e))for(var n=t.length;n--;)if(t[n]===e){t.remove(n);break}return t},clear:function(){for(var e=this,t=e.length;t>=0;t--)delete e[t];return e.pos=0,e.length=0,e}},k:function(e){var t=this;s(e)?(t.init_opts(),t.merge(e)):u(e)&&(t.init_opts(e),s(e.queue)&&t.merge(e.queue),u(e.on)&&t.on(e.on))}}),W.holder=g(function(){var e="complete";return{a:"events",h:{length:0},j:{hold:function(e){var t=this;return t.length++,t._tasks.push({hand:e}),e.call(t,t,e),t.emit("hold",e)},release:function(t){var n=this;return h(n._tasks,function(r,i){return i.hand===t?((0==n.emit("release",t).length||0==--n.length)&&n.emit(e),this.remove(r),!0):void 0}),n},complete:function(t,n){var r=this[n===!0?"once":"on"](e,t);return 0===r.length&&r.emit(e),r}},k:function(t){var n=this;n._tasks=[],n.on(e,t)}}}),w=W.valid=W.is=g({f:{url:function(){},email:function(e){return/\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*/.test(e)},number:function(e){return isNumeric(e)},blankChar:function(e){return"\r"===e||"\n"===e||" "===e||"	"===e},alnum:function(e){return e>="0"&&"9">=e||e>="a"&&"z">=e||e>="A"&&"Z">=e||"_"===e},validAlNum:function(e){if(""===e)return!1;for(var t=e.length-1,n=w.alnum;t>=0;t--)if(!n(e.charAt(t)))return!1;return!0},singleTag:function(){var e={};return h("input link meta img param br hr",function(t,n){e[n]=1}),function(t){return t in e}}(),operatorChar:function(){var e={};return h("+ - * / = ! > < ~ | $ ^",function(t,n){e[n]=1}),function(t){return t in e}}(),find:function(e,t){if(e===r||!t)return!1;if(t===e)return!0;var n=typeof t;if("object"===n){var i=t.length,a=s(t);if(a||o(i))for(var u=0;i>u;u++)if(t[u]===e)return!0;if(!a)return e in t}else if("string"===n)return t.indexOf(e+"")>-1;return!1},operator:function(e,t,n){var i=!1;if(""===t&&""===n)return!i;if(n==r)return i;switch(t){case">":i=float(e)>float(n);break;case"<":i=float(e)<float(n);break;case"=":case"==":i=e==n;break;case"===":i=e===n;break;case">=":i=float(e)>=float(n);break;case"<=":i=float(e)<=float(n);break;case"!=":i=e!==n;break;case"~=":i=(" "+e+" ").indexOf(n)>-1;break;case"^=":i=0==e.indexOf(n);break;case"$=":i=e.slice(-n.length)===n;break;case"*=":i=e.indexOf(n)>-1;break;case"|=":i=e===n||e.slice(0,n.length+1)==n+"-"}return i},color:function(e){var t=!0,r=(e=e.toLowerCase()).length,i=w.validAlNum;if("#"===e.charAt(0)){var o=e.substr(1,r-1),a=r-1;if(!i(o)||3!=a&&6!=a)return!1;for(var u,s=0;a>s;s++)if((u=o.charAt(s))>"f")return!1}else if(i(e)&&25>r)t=e in _.colors;else if(r>=11&&"rgb"===e.substr(0,3)){var c=3;if("a"===e.charAt(3)&&c++,"("!==e.charAt(c)&&")"!==e.charAt(r-1))return!1;var l=e.substring(c+1,r-1);if(l!==n){var f=(l=l.split(",")).length;if(c!==f)return!1;h(l,function(e,n){return!w.number(n)||0>~~n||~~n>255?t=!1:void 0})}}else t=!1;return t},keyword:function(e){return w.keywords.has(e)},keywords:"break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if,in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with,abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto,implements,import,int,interface,long,native,package,private,protected,public,short,static,super,synchronized,throws,transient,volatile,arguments,let,yield,undefined".split(","),element:{className:function(e,t){var n=e.className;if(!n)return!1;n=n.split(" "),a(t)&&(t=t.split(" "));var r=t.length,i=n.length;if(0==i||0==r)return!1;for(var o=0,u=0;i>u;u++)for(var s=n[u],c=0;r>c;c++)if(s==t[c]){o++;break}return o===r},descendant:function(e,t){if(!e||!t)return!1;var n=t.length;if(o(n)){for(var r=0;n>r;r++)if(w.element.descendant(e,t[r]))return!0}else for(;e=e.parentNode;)if(e===t)return!0;return!1}},ie:function(e){var t=W.init.ie;return e==n?t.n:t[e]||!1}},k:function(e,t){if(e instanceof RegExp)return e.test(t);var n=!0;switch(e){case"Number":n=w.number(t);break;case"String":n=a(t)&&!l(t);break;case"Object":n=u(t);break;case"Array":n=s(t);break;case"EMail":n=w.email(t);break;case"NonEmpty":n=!l(t);break;case"Element":n=isElement(t)}return n}}),x=W.crypto=W.codec=function(){var e="replace";return{escapeString:function(e,t){for(var n="",r=0,i=e.length;i>r;r++){var o=e.charAt(r),a=e.charAt(r+1);switch(o){case t:n+="\\"+o;break;case"\r":n+="\\r";break;case"\n":n+="\\n";break;case"\\":a===o?(n+="\\\\",r++):a===t&&(n+="\\"+t,r++);break;default:n+=o}}return n},escapeHTML:function(t){return t[e](/[<>&"]/g,function(e){return{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2f;","`":"&#x60;"}[e]||e})},unescapeHTML:function(t){return t[e](/&amp;/,"&")[e](/&lt;/g,"<")[e](/&gt;/g,">")[e](/&#39;/g,"'")[e](/&quot;/g,'"')[e](/&#(\d+)/g,function(e,t){return String.formCharCode(int(t,10))})}}}(),_=W.convert=g(function(){var e=Math.min,t=Math.max,i=Math.round;return{f:{percent:function(e,t){return o(t)?float(100*(e/(t||100))):(a(e)&&(e="from"===e?0:"to"===e?100:"%"===e.charAt(e.length-1)||w.number(e)?float(e):n),e)},timeUnit:function(e,t,n){if(a(e)&&n===r){n=t;for(var i=e.length,o=i-1;o>=0;o--){var u=e.charAt(o);if(u>="0"&&"9">=u){t=e.substring(o+1,i)||"ms",e=int(e.substr(0,o+1));break}}return 0>o?0:_.timeUnit(e,t,n)}var s=1e3,c={us:s,ns:s*s},l={s:s,m:60*s,h:60*60*s,d:24*60*60*s},f=function(e,t,n){var r;if("ms"==t)return e;if(t in c)r=!0;else{if(!(t in l))return 0;r=!1}return 1==n?r?e/c[t]:l[t]*e:r?c[t]*e:e/l[t]};return s=t===n?e:"ms"===n?f(e,t,1):f(f(e,t,1),n,0)},hex2rgb:function(e){function t(t){return e.charAt(t)}return"#"===e.charAt(0)&&(e=e.substr(1)),3==e.length&&(e=t(0)+t(0)+t(1)+t(1)+t(2)+t(2)),{r:int(t(0)+t(1),16),g:int(t(2)+t(3),16),b:int(t(4)+t(5),16)}},rgb2hex:function(e,t,n){u(e)&&(t=e.g,n=e.b,e=e.r);for(var r=(65536*~~e+256*~~t+~~n).toString(16);r.length<6;)r="0"+r;return"#"+r},hsv2rgb:function(e,t,n){if(u(e)&&(t=e.s,n=e.v,e=e.h),e=i(e),t=i(255*t/100),n=i(255*n/100),0==t)return{r:n,g:n,b:n};var r=n,o=(255-t)*n/255,a=(r-o)*(e%60)/60,s=0,c=0,l=0;return 360==e&&(e=0),60>e?(s=r,l=o,c=o+a):120>e?(c=r,l=o,s=r-a):180>e?(c=r,s=o,l=o+a):240>e?(l=r,s=o,c=r-a):300>e?(l=r,c=o,s=o+a):360>e&&(s=r,c=o,l=r-a),{r:i(s),g:i(c),b:i(l)}},rgb2hsv:function(n,r,o){u(n)&&(r=n.g,o=n.b,n=n.r);var a=e(n,r,o),s=t(n,r,o),c=s-a,l=0,f=0,d=s*(100/255);return 0!=s&&(f=255*c/s),l=0==f?-1:n==s?(r-o)/c:r==s?2+(o-n)/c:4+(n-r)/c,(l*=60)<0&&(l+=360),{h:e(360,i(l)),s:i(f*=100/255)||0,v:i(d)||0}},rgb:function(e){var t=n;return"rgb"==e.left(3).toLowerCase()&&(e=e.between("(",")"))!==n&&(e=e.split(",")).length>=3&&(t={r:~~e[0],g:~~e[1],b:~~e[2]},4==e.length&&(t.a=float(e[3]))),t},hsv:function(e){var t=n;return"hsv"==e.left(3).toLowerCase()&&(e=e.between("(",")"))!==n&&3==(e=e.split(",")).length&&(t={h:~~e[0],s:~~e[1],v:~~e[2]}),t},color:function(e){var t=(e=e.trim().toLowerCase()).length,r=_.colors,i=_.hex2rgb,o=n;return 8>t&&"#"===e.charAt(0)?o=i(e):25>t&&e in r?o=i(r[e]):t>9&&("rgb"==e.substr(0,3)||"rgba"==e.substr(0,4)?o=_.rgb(e):"hsv"===e.substr(0,3)&&(e=_.hsv(e),o=_.hsv2rgb(e.h,e.s,e.v))),o}},k:function(){}}}),_.colors=function(){for(var e={},t="black,navy,darkblue,mediumblue,blue,darkgreen,green,teal,darkcyan,deepskyblue,darkturquoise,mediumspringgreen,lime,springgreen,aqua,cyan,midnightblue,dodgerblue,lightseagreen,forestgreen,seagreen,darkslategray,limegreen,mediumseagreen,turquoise,royalblue,steelblue,darkslateblue,mediumturquoise,indigo,darkolivegreen,cadetblue,cornflowerblue,mediumaquamarine,dimgray,dimgrey,slateblue,olivedrab,slategray,lightslategray,mediumslateblue,lawngreen,chartreuse,aquamarine,maroon,purple,olive,gray,skyblue,lightskyblue,blueviolet,darkred,darkmagenta,saddlebrown,darkseagreen,lightgreen,mediumpurple,darkviolet,palegreen,darkorchid,yellowgreen,sienna,brown,darkgray,lightblue,greenyellow,paleturquoise,lightsteelblue,powderblue,firebrick,darkgoldenrod,mediumorchid,rosybrown,darkkhaki,silver,mediumvioletred,indianred,peru,chocolate,tan,lightgray,thistle,orchid,goldenrod,palevioletred,crimson,gainsboro,plum,burlywood,lightcyan,lavender,darksalmon,violet,palegoldenrod,lightcoral,khaki,aliceblue,honeydew,azure,sandybrown,wheat,beige,whitesmoke,mintcream,ghostwhite,salmon,antiquewhite,linen,lightgoldenrodyellow,oldlace,red,fuchsia,magenta,deeppink,orangered,tomato,hotpink,coral,darkorange,lightsalmon,orange,lightpink,pink,gold,peachpuff,navajowhite,moccasin,bisque,mistyrose,blanchedalmond,papayawhip,lavenderblush,seashell,cornsilk,lemonchiffon,floralwhite,snow,yellow,lightyellow,ivory,white".split(","),n="000000,000080,00008B,0000CD,0000FF,006400,008000,008080,008B8B,00BFFF,00CED1,00FA9A,00FF00,00FF7F,00FFFF,00FFFF,191970,1E90FF,20B2AA,228B22,2E8B57,2F4F4F,32CD32,3CB371,40E0D0,4169E1,4682B4,483D8B,48D1CC,4B0082,556B2F,5F9EA0,6495ED,66CDAA,696969,696969,6A5ACD,6B8E23,708090,778899,7B68EE,7CFC00,7FFF00,7FFFD4,800000,800080,808000,808080,87CEEB,87CEFA,8A2BE2,8B0000,8B008B,8B4513,8FBC8F,90EE90,9370DB,9400D3,98FB98,9932CC,9ACD32,A0522D,A52A2A,A9A9A9,ADD8E6,ADFF2F,AFEEEE,B0C4DE,B0E0E6,B22222,B8860B,BA55D3,BC8F8F,BDB76B,C0C0C0,C71585,CD5C5C,CD853F,D2691E,D2B48C,D3D3D3,D8BFD8,DA70D6,DAA520,DB7093,DC143C,DCDCDC,DDA0DD,DEB887,E0FFFF,E6E6FA,E9967A,EE82EE,EEE8AA,F08080,F0E68C,F0F8FF,F0FFF0,F0FFFF,F4A460,F5DEB3,F5F5DC,F5F5F5,F5FFFA,F8F8FF,FA8072,FAEBD7,FAF0E6,FAFAD2,FDF5E6,FF0000,FF00FF,FF00FF,FF1493,FF4500,FF6347,FF69B4,FF7F50,FF8C00,FFA07A,FFA500,FFB6C1,FFC0CB,FFD700,FFDAB9,FFDEAD,FFE4B5,FFE4C4,FFE4E1,FFEBCD,FFEFD5,FFF0F5,FFF5EE,FFF8DC,FFFACD,FFFAF0,FFFAFA,FFFF00,FFFFE0,FFFFF0,FFFFFF".split(","),r=0,i=t.length;i>r;r++)e[t[r]]="#"+n[r];return e}(),S=W.timer=g({a:"events",e:{delay:0,count:"infinite",timeout:0,interval:0,progress:n},f:{now:function(){return(new Date).getTime()}},i:{t0:0,t1:0,t2:0,t3:0,t4:0,tid:n,tid2:n,state:"ready"},h:{clock:function(e){var t=this,n=S.now();switch(e){case-1:t._t0=n,t._t1=n,t._t2=t._t3=t._t4=0;break;case 0:t._t0=t._t1=t._t2=t._t3=t._t4=0;break;case 1:t.elapsedTime=n-t._t1-t._t2;break;case 2:t._t0=n,t._t2+=n-t._t3;break;case 3:t._t0=n,t._t1=n;break;case 4:t._t4=n-t._t0;break;case 5:t._t4=t.opts.delay;break;case 6:t._t2+=t.opts.delay}return t},startTimer:function(){var e=this.stopTimer(),t=e.opts,n=t.interval,r=t.timeout;return a(n)&&(n=_.timeUnit(n,"ms")),a(r)&&(r=_.timeUnit(r,"ms")),(r-=e._t4)>0&&(e._tid2=setTimeout(function(){e.stopTimer().emit("timeout").state("ready")},r)),e._tid=setInterval(function(){var n=t.count,r=e.clock(1).elapsedTime,i=++e.elapsedCount;"infinite"!==n&&i>=n?(e.stopTimer(),e.state("completed"),e.emit("progress complete",r)):e.emit("progress",r)},n),e.state("running")},stopTimer:function(){var e=this;return clearInterval(e._tid),clearTimeout(e._tid2),e}},j:{elapsedTime:0,elapsedCount:0,count:function(e){return this.opt("count",e)},timeout:function(e){return this.opt("timeout",e)},delay:function(e){return this.opt("delay",a(e)?_.timeUnit(e,"ms"):e)},state:function(e){var t=this;return e===r?t._state:t.emit("stateChange",t._state=e)},set:function(e){var t=this;return h(["count","delay","interval","on"],function(n,r){r in e&&t[r](e[r])}),i(e.progress)&&t.on("progress",e.progress),t},interval:function(e){var t=this;return t.opt("interval",e,function(){"running"==t._state&&t.startTimer()})},start:function(){var e=this,t=e.opts,n=e._state,r=t.delay;return 0===t.count||"running"===n?e:("completed"==n?e.clock(-1):"paused"==n?e.clock(2):e.clock(3),(r-=e._t4)>0?(e.state("waiting"),e._tid=setInterval(function(){e.clock(6).startTimer()},r)):e.startTimer(),e.emit("start"))},pause:function(){var e=this,t=e.state(),n=S.now();if("waiting"==t)e.clock(4);else{if("running"!=t)return e;e.clock(5)}return e.stopTimer().state("paused")._t3=n,e.emit("pause")},stop:function(){return this.stopTimer().reset().emit("stop")},reset:function(){var e=this.clock(0);return e.elapsedTime=0,e.elapsedCount=0,e.state("ready")},remove:function(){this.stopTimer().reset()}},k:function(e,t){var r=this,s=n;return r instanceof S?(u(e)?s=e:i(e)&&(o(t)||a(t)?s={interval:t}:u(t)&&(s=t),r.on("progress",e)),r.set(r.init_opts(s)),void 0):new S(e,t).start()}}),W.analyzer=g({f:{}}),T=W.parser=g(function(){var e="arguments",t=w.alnum,i=w.blankChar,o=w.operatorChar;return{type:1,i:{text:"",size:0},f:{json:function(e){return(e+"").toObject()},unit:function(e){for(var r,i="",o="",a=0,u=0,s=e.length;s>a;a++)if((r=e.charAt(a))>="0"&&"9">=r)o+=r;else if("-"===r&&0==a)o+=r;else{if("."!==r)break;if(++u>1)break;o+=r}if(""===o||"-"===o)return n;for(;s>a;a++){if(!t(r=e.charAt(a))&&"%"!==r)return n;i+=r}return{type:"number",unit:i,value:float(o)}}},j:{skipWhiteSpace:function(e,t){for(;t>e&&i(this._text.charAt(e));e++);return e},hex:function(e){var n=this,r="",i=0,o=0,a={error:0,text:""};for(e++;e<n._size;e++){var u=n._text.charAt(e);if(!t(u)){e--;break}if(u.toLowerCase()>"f"){i=1;break}if(o>6){i=1;break}r+=u,o++}return 3!=o&&6!=o&&(i=1),a.text=r,a.endPos=e,a.error=i,a},keyword:function(e,n){var r=this,i=r._text.charAt(e),a="",u=0,s=2,c={text:""};for(2===n&&(e++,s=0);e<r._size;e++){var l=r._text.charAt(e);if(0===n){if(t(l)){a+=l;continue}}else if(1===n){if(l>="0"&&"9">=l){a+=l;continue}if(t(l)){u=1;break}}else{if(2===n){var f=r._text.charAt(e+1);
if("\\"===l&&(f===l||f===i)){e++,a+=f;continue}if(l===i){e++,s=2;break}a+=l;continue}if(3===n){if(o(l)){a+=l;continue}}else if(4===n){if(t(l)||"-"===l||"."===l){a+=l;continue}}else if(5===n){if(t(l)||"-"===l){a+=l;continue}}else n!==l&&(a+=l)}break}return 2!=s&&(u=1),c.error=u,c.endPos=--e,c.text=a,c},htmlComment:function(e){var t=this,n=0,r={text:""},i=e;return-1===(i=t._text.indexOf("-->",e))?(n=1,i=t._size-1):(i+=2,r.text=t._text.substring(e,i+3)),r.endPos=i,r.error=n,r},argument:function(n,o){var a=this,u=0,s=0,c={};for(c[e]=[],o===r&&(o=")"),++n;n<a._size;n++){var l=a._text.charAt(n);if(","!==l){if(l===o){s=2;break}if(!i(l)){if(0!=s){u=1;break}var f=-1;if(l>=0&&9>=l)f=1;else if(t(l))f=0;else{if("'"!==l&&'"'!==l){u=1;break}f=2}var d=a.keyword(n,f);if(n=d.endPos,0!=d.error){u=1;break}c[e].push({type:f,text:d.text}),s=1}}else s=0}return 2!=s&&(u=1),c.error=u,c.endPos=n,c},pseudoClass:function(n,r){var i,o=this,a=0,u=0,s={};for(s[e]=[],++n;n<o._size;n++){var c=o._text.charAt(n);if(0!=a||!t(c)){if(1==a){if("("!==c){--n;break}0==(i=o.argument(n)).error?h(i[e],function(t,n){var i=n.text;r===!1&&2!==n.type&&(i=i.retype()),s[e].push(i)}):u=1,n=i.endPos;break}u=1;break}if(s.name=(i=o.keyword(n,5)).text,n=i.endPos,0!=i.error){u=1;break}a++}return s.error=u,s.endPos=n,s},attribute:function(e,t){var n=this,r=0,a=0,u={type:0,name:"",operator:""};for(++e;e<n._size;e++){var s=n._text.charAt(e);if(!i(s)){if("]"==s)break;if(0==r){var c=n.keyword(e,4);if(e=c.endPos,0!=c.error){a=c.error;break}u.name=c.text,r++}else if(1==r)if(o(s))u.operator+=s;else{if(""==u.operator){a=1;break}e--,r++}else if(2==r){var l=0;('"'==s||"'"==s)&&(l=2);var f=n.keyword(e,l);if(e=f.endPos,0!=f.error){a=f.error;break}u.type=l,u.value=t===!1&&2!==u.type?f.text.retype():f.text,r++}else if(3==r){a=1;break}}}return u.error=a,u.endPos=e,u}},k:function(e,t){this._text=e,this._size=t===r?e.length:t}}}),W.cookie=g({f:{get:function(e){var t=W.cookie(),i=h(t,function(t,n){return(n=n.trim()).substring(0,e.length+1)==e+"="?decodeURIComponent(n.substring(e.length+1)):void 0},!1,";");return i==r?n:i},set:m(function(e,n,i){var s="",c="";if(a(n)||o(n)?c=n:u(n)&&i===r&&(i=n),u(i)){var l,f=i.value,d=i.expires,h=i.path,p=i.domain,m=i.secure;f!==r&&(c=f),d!==r&&(o(d)||a(d)?(l=new Date,l.setTime(l.getTime()+d)):d.toUTCString&&(l=d.toUTCString),s+="; expires="+l.toUTCString()),a(h)&&(s+="; path="+h),a(p)&&(s+="; domain="+p),m===!0&&(s+="; secure")}t.cookie=e+"="+C.encodeURI(c)+s},{each:[u]}),remove:m(function(e,t){var n={expires:-1};t!==r&&p(n,t),W.cookie(e,0,n)},{each:[s,a]}),clear:function(e){var t=W.cookie;return h(t(),function(n,r){(r=r.split("=")).length>0&&t.remove(r[0],e)},!1,";"),t}},k:function(e,n,i){var o=W.cookie;return e===r?t.cookie||!1:n===r?u(e)?o.set(e):o.get(e):o.set(e,n,i)}}),C=W.url=g({type:1,f:{encodeURI:function(e){return encodeURIComponent(e+"")},location:function(t){var n=e.location;if(t===r){var i=n.protocol;return{url:n.href,port:n.port,scheme:i.substr(0,i.length-1),hostName:n.hostname,pathName:n.pathname}}return a(t)&&(e.location=t),C},format:function(e,t){var n="",r=C(e),i="";return a(t)?(i=r.scheme+"://"+r.host,80!=r.port&&(i+=":"+r.port),"./"==t.left(2)&&(t=r.path+t.substr(2)),n="/"===t.charAt(0)?t.substr(1):r.path+t,i+"/"+n.replace(/\/\//g,"/")):void 0},param:function(e){if(a(e))return e;var t=[],n=C.encodeURI,r=function(e,i){u(i)?h(i,function(t,n){r(e+"["+t+"]",n)}):t.push(n(e)+"="+n(i))};return h(e,function(e,t){r(e,t)}),t.join("&")},suffix:g({"static":{img:function(e){return"png gif jpg jpeg bmp img tiff".split(" ").has(e.toLowerCase())}},main:function(e){var t=e.lastIndexOf("."),n=e.length;if(-1!=t&&n-1>t){var r=e.substring(t+1,n);if(-1==r.indexOf("/"))return r}return""}})},j:{scheme:"",host:"",domain:"",port:80,path:"",file:"",suffix:"",queryString:"",hashString:"",addParam:m(function(e,t){var n,i=this,o="";t!==r?(n={},n[e]=t,o=C.param(n)):o=h(e,function(e,t){return""!=t?t:void 0},!0,"&").join("&");var a="queryString";return""!=i[a]&&(i[a]+="&"),i[a]+=o,i},{each:[u]}),toUrl:function(){var e=this,t="",n=e.host,r=e.port,i=e.path;return t+=e.scheme+"://"+n,80!=r&&(t+=":"+e.port),C.location().hostName!==n||""!=i&&"/"===i.charAt(0)||(i=C(location.href).path+i),"/"!==i.charAt(0)&&(i="/"+i),t+=i+e.file,""!=e.queryString&&(t+="?"+e.queryString),e.hashString&&(t+="#"+e.hashString),t},parse:function(e){var t=this,n="",r=e.length,i=e.indexOf("#"),o=0;if(-1!=i&&(t.hashString=e.substring(i+1,r),e=e.substr(0,i),r=e.length),i=e.indexOf("://",0),-1==i){i=0;var a=C.location();t.scheme=a.scheme,t.domain=a.hostName,t.port=a.port||80}else t.scheme=e.substr(0,i).toLowerCase(),i+=3,o=e.indexOf("/",i),n=-1==o?e.substr(i,r-i):e.substr(i,o-i),i=n.indexOf(":",i),-1==i?t.domain=n:(t.port=~~n.substring(i+1,n.length),t.domain=n.substr(0,i));-1!=o&&(i=e.lastIndexOf("/"),t.path=e.substr(o,i-o),""!=t.path&&(t.path+="/"),o=e.indexOf("?",i),-1==o?t.file=e.substring(i+1,r):(t.file=e.substring(i+1,o),t.queryString=e.substring(o+1,r))),i=t.file.lastIndexOf("."),-1!=i&&(t.suffix=t.file.substring(i+1,t.file.length)),t.host=t.domain}},k:function(t){t==r&&(t=e.location.href),this.parse(t)}}),A=W.ajax=g({type:1,a:"events",e:{type:"get",cache:!0,async:!0,url:"#",data:"",delay:0,format:"text",polling:!1,timeout:0,username:"",password:"",dataType:"*",charset:"UTF-8",contentType:"application/x-www-form-urlencoded; charset=UTF-8",requestHeader:0},f:{hooker:new W.hooker,hook:function(e,t){return A.hooker.hook(e,t)},unhook:function(e,t){return A.hooker.unhook(e,t)},get:function(e,t){return A({url:e,type:"get",success:t})},post:function(e,t,n){return A({url:e,type:"post",data:t,success:n})},json:function(e,t,r){var o="get",s="",c="",l=n,f={cache:!1,dataType:"json",format:"json"};return u(e)?A(p(f,e)):a(e)?(i(t)?(s=e,l=t):i(r)&&(o="post",s=e,c=t,l=r),A(p(f,{type:o,url:s,data:c,success:l}))):A},load:function(e,t,r){var o="get",s="",c="",f=n;return l(e)?A():u(e)?A(e):(a(e)&&(s=e),i(t)?f=t:(u(t)||a(t))&&(o="post",c=t),i(r)&&(o="post",f=r),A({type:o,url:s,data:c,success:f}))}},i:{init:function(){var e=this;return"undefined"!=typeof XMLHttpRequest?e.http=new XMLHttpRequest:h(["Msxml2.XMLHTTP","Microsoft.XMLHTTP"],function(t,r){try{return e.http=new ActiveXObject(r),!1}catch(i){e.http=n}}),e}},h:{formatResponse:function(e){var t=this.opts.format.toLowerCase();return"json"===t?e=T.json(e):"text"===t&&(e+=""),e}},j:{http:n,elapsed:0,status:function(){return this.http.status},statusText:function(){return this.http.statusText},type:function(e){return this.opt("type",e)},url:function(e){return this.opt("url",e)},data:function(e){return this.opt("data",e)},cache:function(e){return this.opt("cache",e)},responseText:function(){return this.http.responseText},responseContentLength:function(){return this.responseHeader("Content-Length")},responseUrl:function(){return this.http.responseUrl},responseHeader:function(e){var t=this,i=t.http;return e===r?i.getAllResponseHeaders()||n:a(e)?i.getResponseHeader(e)||n:void 0},requestHeader:m(function(e,t){var n=this,i=n._requestHeader;return t===r?i[e]:(i[e]=t,void 0)},{each:[u,s]}),accept:function(e){var t=this;if(e==r)return t.requestHeader("Accept");var n={"*":"*/*",text:"text/plain",html:"text/html",xml:"application/xml,text/xml",json:"application/json,text/javascript",script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"};return t.requestHeader("Accept",n[e]||e)},start:function(){return this.send()},stop:function(){var e=this;return e.opts.polling=!1,e.http.abort(),e},abort:function(){var e=this;return e.http.abort(),e},send:function(){var e=this,t=e.http,r=e.opts,i=r.data,o=r.type.toLowerCase(),a=r.timeout,u=A.hooker,f=n,d=n,p=C(r.url),v=S.now();return"get"==o?(l(i)||p.addParam(i),0==r.cache&&p.addParam("_",v)):(s(f=i)||c(f))&&(f=C.param(f)),t.open(o,p.toUrl(),r.async,r.username,r.password),t.setRequestHeader("Content-Type",r.contentType),t.onreadystatechange=function(){if(u.exec("readyStateChange",e)){e.emit("readyStateChange",t);var i=t.readyState;if(3==i){if(!u.exec("progress",e))return;e.emit("progress",t)}else if(4==i){e.elapsed=S.now()-v;var o=t.status;if(o>=200&&300>o||304===o){if(!u.exec("success",e))return;e.emit("success",e.formatResponse(t.responseText))}else{if(!u.exec("failed",e))return;e.emit("failed",t)}r.polling===!0&&m(function(){e.send()},r.delay)(),d!==n&&(clearTimeout(d),d=n),u.exec("complete",e)&&e.emit("complete",t)}}},e.accept(r.dataType),h(e._requestHeader,function(e,n){t.setRequestHeader(e,n)}),u.exec("beforeSend",e)?(e.emit("beforeSend"),t.send(f),a>0&&(d=setTimeout(function(){e.abort(),u.exec("timeout",e)&&e.emit("failed timeout",t)},a)),u.exec("afterSend",e)?e.emit("afterSend"):e):e}},l:function(e,t){h("success failed complete",function(e,n){t[n]=function(e){return this.on(n,e)}})},k:function(e){var t=this,n=t.init_opts(e);t._requestHeader={},t._init(),h("success failed timeout complete beforeSend readyStateChange",function(e,r){i(n[r])&&t.on(r,n[r])}),t.requestHeader(n.requestHeader),u(e)?t.send():a(e)&&(t.url(e),t.send())}}),W.websocket=g({a:"events",e:{host:top.location.hostname||"localhost",port:3e3,path:"",url:""},h:{initEvents:function(){var e=this,t=e.socket;return p(t,{onopen:function(n){e.emit("open",n),1===t.readyState&&0!==e.sendQueue.length&&(e.sendQueue.each(function(e,n){t.send(n)}),e.sendQueue.clear())},onmessage:function(t){e.emit("message",t)},onerror:function(t){e.emit("error",t)},onclose:function(t){e.emit("close",t),e.socket=n}}),e}},j:{connect:function(e){var t=this,r=t.opts,o=n;if(u(e))t.opts=r=t.init_opts(e),t.url="ws://"+r.host+":"+r.port+"/"+r.path;else{if(!a(e))return t;var s=t.url=C(e);t.init_opts({host:s.domain,port:s.port,path:s.path})}return i(WebSocket)?o=new WebSocket(t.url):i(MozWebSocket)&&(o=new MozWebSocket(t.url)),t.socket=o,t.initEvents().emit("connect")},send:function(e){var t=this,r=t.socket;if(r!==n){var i=r.readyState;0===i?t.sendQueue.push(e):1===i&&r.send(e)}return t},close:function(e,t){var r=this,i=r.socket;return i!==n&&(i.close(e,t),r.socket=n),r},readyState:function(){var e=this,t=e.socket;return t===n?3:t.readyState}},k:function(e){var t=this;t.sendQueue=[],u(e)?a(e.url)?t.connect(e.url):(e.on&&t.on(e.on),t.connect(e)):a(e)&&t.connect(e)}}),L=W.loader=g(function(){var e="success",o="complete",c="loading",f="status",d="failed";return{a:"events",i:{basePath:"",onlyAjax:!1},f:{css:function(e,t){return L.element("css",e,t)},js:function(e,t){return L.element("js",e,t)},testLink:function(e){try{return!l(e.sheetText())}catch(t){}return!1},image:m(function(e,t){var r=new Image;return i(t)?(r.onload=function(){t.call(r,!0,r),r.onload=n},r.onerror=function(){t.call(r,!1,r),r.onerror=n},r.src=e,void 0):(r.src=e,void 0)},{each:[u]}),createElement:function(e,t){var r=n;return"css"===e?r=newDom("link").attr({type:"text/css",rel:"stylesheet",href:t}):("js"===e||"json"===e)&&(r=newDom("script").attr({src:t,async:"false",defer:"true"})),r.appendTo("head")},element:m(function(e,t,n){var r=!1,i=L.createElement(e,t),a=L.testLink,u=function(){m(n).call(i.off(),!0)};if(i&&b.ins(i.dom,"onload onreadystatechange"))i.on("load readystatechange",function(){var t=i.readyState();r||t&&!b.or(["loaded",o],t)||(u(r=!0),("js"===e||"json"===e)&&i.remove())}),"css"===e&&"addEventListener"in i.dom&&!("onloadstart"in i.dom)&&L.image(t,function(){!r&&a(i)&&u(r=!0)});else if("css"===e){var s=new S(function(){try{a(i)&&(s.stop(),u())}catch(e){}},10);s.timeout("10s").start()}},{each:[s]})},h:{queue:function(e){var t=this._queue;return s(t[e])?t[e]:t[e]=[]},convertUrl:function(e){return e.has("://")||"/"===e.left(1)||(e=this._basePath+e),e},indexOf:function(e,t){var n=this._queue[e];if(s(n))for(var r=0,i=n.length;i>r;r++)if(n[r].url===t)return r;return-1},updateStates:function(t){var n=this;return t===!0?n[e]++:n[d]++,n[c]--,n},finish:function(t,n,r){var a=this;return i(r)?(a.updateStates(n),r.call(a,t)):h(t.callbacks,function(e,r){a.updateStates(n),r.call(a,t)}),a.emit("progress "+(t[f]=n?e:d),t),0===a[c]&&a.emit(a[f]=o),a}},j:{length:0,success:0,failed:0,loading:0,status:"none",require:function(){return this.loadFiles(Array.from(arguments))},basePath:function(e){var t=this;return e===r?t._basePath:("/"!==e.right(1)&&(e+="/"),t._basePath=e,t)},load:m(function(e,t,o){var c=this,f="",d="",p=n;return u(e)?(d=e.url,f=e.type,p=e.callback):a(e)&&t===r?d=e:a(e)&&s(t)?h(t,function(t,n){a(n)&&c.append(e,n,o)}):o===r?i(t)?(d=e,p=t):a(t)&&(f=e,d=t):a(e)&&a(t)&&(f=e,d=t,p=o),l(f)&&(f=C(d).suffix),c.append(f,d,p)},{each:[s]}),loadQueue:function(e,t){for(var n=this,r=new k,i=e.length,a=0;i>a;a++)r.push(function(){n.load(e[r.pos],function(){r.next()})});return r.go().on(o,function(){m(t).call(n)}),n},loadFiles:function(e,t){var n=this;if(a(e))return n.load(e,function(e){m(t).call(n,e)});if(s(e))for(var r=0,i=e.length,o=new Array(i),u=function(e,a){o[e]=a,++r===i&&m(t).call(n,o)},c=0;i>c;c++){var l=e[c];a(l)?n.load(l,u.bind(n,c)):s(l)&&n.loadQueue(l,u.bind(n,c))}return n},append:m(function(r,o,a){function u(e){L.element(r,o,function(t,n){e&&(h.data=n,s.finish(h,t))})}var s=this,l=s.queue(r),d=s.indexOf(r,o),h=n;return i(a)||(a=m()),s.length++,s[s[f]=c]++,s.emit("append"),-1!==d?(h=l[d],h.callbacks.push(a),h[f]==e&&s.finish(h,!0,a),void 0):(l.push(h={url:o,data:n,status:"none",callbacks:[]}),h.callbacks.push(a),m(function(){var e="css"===r||"js"===r,n=C(o=s.convertUrl(o)).domain!==t.domain;C.suffix.img(r)?L.image(o,function(e){h.data=this,s.finish(h,e)}):s._onlyAjax||0==n?A({cache:!0,url:o,failed:function(){s.finish(h,!1)},success:function(t){"sml"===r.toLowerCase()&&(t=P(t)),h.data=t,e&&!s._onlyAjax?u(!0):s.finish(h,!0)}}):e?u(!0):L.image(o,function(){s.finish(h,!0)})},0)(),void 0)},{each:[s,u]}),remove:m(function(e,t,n){var o=this,u=o._queue;if(e in u){if(e===r)return o.clear();var s=u[e],c=s.length,l=function(e){for(var t=e.length;t>=0;t--)if(e[t]===n){e.remove(t);break}};if(t===r)for(;c>=0;c--)s[c].callbacks.clear(),s.remove(c);else if(a(t))for(;c>=0;c--)if(s[c].url===t){var f=s[c].callbacks;i(n)?l(f):(f.clear(),s.remove(c));break}}},{each:[s,u]}),clear:function(){var t=this;return t.length=0,t[e]=0,t[d]=0,t.callbacks=[],t._queue={},t.off()}},k:function(e){var t=this;if(!(t instanceof L)){var n=new L;return n.load.apply(n,arguments)}a(e)?t._basePath=e:e===!0&&(t._onlyAjax=e),t.clear()}}}),W.sourceRepository=g(function(){var e="none",t="ready",n="reading",r="loading",o="done";return{a:"events",h:{status:e,loading:0,queryUrl:function(e,t){return C.format(this.paths[this.packages[e].from],t)},initTask:function(t,a){var u=this,s=u.status,c=u.packages;if(s==e||s==n)return u.queue.push({name:t,callback:a}),!1;if(t in c){var l=c[t];return l.status==o?(i(a)&&a(l),!1):(u.status=r,l.status=r,!0)}return!1}},j:{use:function(e,t){var n=this;if(a(e))n.load(e,t);else if(s(e)){var r=e.length,o=0;h(e,function(e,a){n.load(a,function(){++o===r&&i(t)&&t()})})}return n},addOrigin:m(function(t,r){var i=this;i.status===e&&(i.status=n),i.reader.load((i.paths[t]=r+"/")+"index.js")},{each:[u]}),response:function(t,n){var r=this;i(n)&&(n=n()),h(n,function(n,i){r.packages[n]={from:t,data:i,status:e}})},load:function(e,t){if(!this.initTask(e,t))return this;var n=this,r=n.packages[e],c=r.data,l=n.loader,f=function(){r.status=o,i(t)&&t(r)},d=function(t){return a(t)?n.queryUrl(e,t):s(t)?h(t,function(t,r){return n.queryUrl(e,r)},!0):void 0};if(a(c)||s(c))l.loadFiles(d(c),f);else if(u(c)){var p=c.basics,m=function(){l.loadFiles(d(c.files),f)};p?n.use(p,m):m()}return n}},k:function(){var e=this;e.paths={},e.queue=[],e.packages={},e.reader=(new L).on({complete:function(){e.status=t,h(e.queue,function(t,n){e.load(n.name,n.callback)}),e.emit(t)}}),e.loader=(new L).on({append:function(){e[r]++},progress:function(){e[r]--},complete:function(){0===this.loading&&e.emit(e.status="complete")}})}}}),E=W.source=g({"static":{repository:new W.sourceRepository,response:function(e,t){this.repository.response(e,t)}},k:function(e,t){E.repository.addOrigin(e,t)}}),W.use=function(e,t){return E.repository.use(e,t),W},N=W.template=g({a:"events",e:{url:"",text:"",renderTo:n,element:n,compressLevel:1},f:{fileCaches:{},templates:{},append:m(function(e,t){t instanceof N&&(N.templates[e]=t)},{each:[s,u]}),remove:m(function(e){e===r?this.clear():a(e)&&delete N.templates[e]},{each:[s]}),clear:function(){for(var e in N.templates)delete N.templates[e];return this},clearCache:function(){for(var e in N.fileCaches)delete N.fileCaches[e];return this}},h:{analyze:function(e,t){var n=this;return n.analyzer.analyze(e,function(e){0!=this.error&&(n.error=1,n.emit("error","analyzeError")),i(t)&&t.call(n,e)}),n},compile:function(){var e=this,t=e.compiler.compile();return 0!=e.compiler.error?(e.error=2,e.emit("error","compileError"),!1):t},build:function(e){var t=this;return 0!=t.error||!u(e)&&e!=n?n:t.builder.build(e)},checkout:function(e){var t=this.build(e),r=this._renderTo;return r!=n&&r.html(t),t}},j:{error:0,loaded:!1,compressLevel:function(e){return this.opt("compressLevel",e)},render:function(e,t){var n=this;return"function"==typeof t?(n.loaded?t.call(n,n.checkout(e)):n.once("load",function(){t.call(n,n.checkout(e))}),null):n.checkout(e)},renderTo:function(e,t){var n=this,r=B(e);return r&&r.append(n.render(t)),n},loadFromString:function(e,t){var n=this;return n.loaded=!1,n.analyze(n._tpl=e,function(e){e!==!1&&(n.compile(),n.loaded=!0,n.emit("load"),i(t)&&t.call(n,e))}),n},loadFromUrl:function(e,t){var n=this;return A.get(e,function(e){a(e)?n.loadFromString(e,t):n.emit("loadError")}),n},loadFromElement:function(e,t){var r=this,i=r._dom=B(e);if(i!==n){var o=i.attr("std-name"),a=i.attr("render-to"),u=i.attr("render-url");l(o)||N.append(o,r),l(a)||(r._renderTo=B(a)),l(u)||(r._renderUrl=u,r.refresh()),r.loadFromString(i.html(),t)}return r},refresh:function(){var e=this,t=e._dom,n=e._renderUrl;return!l(n)&&t&&A.json({url:n,cache:!1,success:function(n){"true"===t.attr("render-here")&&(t.parent().insertBefore(e.render(n),t),t.remove())}}),e}},k:function(e,t){if(!(this instanceof N))return a(e)?t===r?N.templates[e]||n:new N(e,t):n;var i=this,o=n;i.builder=new N.builder(i.compiler=new N.compiler(i.analyzer=new N.analyzer)),t===r?t=e:N.append(e,i),a(t)?(i.init_opts(),i.loadFromString(t)):u(t)&&((o=i.init_opts(t)).on&&i.on(i.on),o.text?i.loadFromString(o.text):o.element?i.loadFromElement(o.element):o.url&&i.loadFromUrl(o.url))}}),N.methods={eval:function(e){return"<script>"+e+"</"+"script>"}},N.statements={"#else":function(){return"}else{"},"#elseif":function(e,t){return"}else if("+this.fixCode(e,t)+"){"},"#break":function(){return"break;"},"#continue":function(){return"continue;"},"with":function(e,t,n){return"if(typeof("+this.fixCode(e,t)+")!=='undefined'){"+n+"}"},"if":function(e,t,n){return"if("+this.fixCode(e,t)+"){"+n+"}"},"for":function(e,t,n){return"for("+this.fixCode(e,t)+"){"+n+"}"},"while":function(e,t,n){return"while("+this.fixCode(e,t)+"){"+n+"}"},each:function(e,t,n){var r,i,o=[],a=e,u=0,s="";if(-1!==(i=e.indexOf(" as ",1))){a=e.substr(0,i).trim();var c=e.length,f="";for(i+=4;c>i;i++)if(w.blankChar(r=e.charAt(i)));else if(w.alnum(r))f+=r;else{if(","!==r){u=3,s=r;break}o.push(f),f=""}""!==f&&o.push(f)}return w.validAlNum(a)||(u=4,s=a),l(o)&&(o=["index","value"]),"Std.each("+this.varName(a,t)+",function("+o.join(",")+"){"+n+"});"}},N.analyzer=g({i:{loading:0,callback:n},h:{parseCode:function(e){var t,r,i=this,o=n,a=0,u={},s=i.tplLength,c=i.parser,l="",f=0;switch(t=i.tpl.charAt(e+1)){case"=":case"$":e++;case"@":case"#":case"/":o=t}for((u.type=o)!==n&&"="!==o&&"$"!==o&&(0==(r=c.keyword(e+2,0)).error?u.keyword=r.text:f=1,e=r.endPos),++e;s>e;e++)if("\n"!==(t=i.tpl.charAt(e))||0!==a)if(";"!==t&&"{"!==t&&"}"!==t)if(0!==a&&w.blankChar(t))"\n"===t&&i.currentLine++;else{if(a=0,"?"===t&&">"===i.tpl.charAt(e+1)){e++;break}if('"'===t||"'"===t){if(e=(r=c.keyword(e,2)).endPos,0!==r.error){f=1;break}l+=t+x.escapeString(r.text,t)+t}else l+=t}else a=2,l+=t;else a=1,l+="\n",i.currentLine++;return u.text=l.trim(),u.error=f,u.endPos=e,u}},j:{readFile:function(e){var t=this,r=N.fileCaches;if(e in r)return t.result.push(r[e]),t;var o=t.result.push(n),a=new N.analyzer;return a.line=t.currentLine,a.src=e,++t._loading&&A({url:e,success:function(n){a.analyze(n,function(){t.result[o-1]=r[e]=this,0===--t._loading&&i(t._callback)&&t._callback.call(t,t.result)})}}),t},append:function(e,t){var n=this;if(0===t)e=x.escapeString(e,"'");else if(1===t&&"@"===e.type&&"include"===e.keyword)return n.readFile(e.text.trim());return n.result.push({type:t,line:n.currentLine,data:e}),n},analyze:function(e,t){var n,r,o,a=this.clear(),u=a.tplLength=e.length,s=a.parser=T(a.tpl=e,u),c="",l=0;for(n=0;u>n;n++)if("<"===(r=e.charAt(n)))if("?"===(r=e.charAt(n+1))){if(n=(o=a.parseCode(n+1)).endPos,0!==o.error){l=1;break}a.append(c,0),a.append(o,1),c=""}else if("!"===r&&"-"===e.charAt(n+2)&&"-"===e.charAt(n+3)){if(n=(o=s.htmlComment(n)).endPos,c+=o.text,0===o.error){l=2;break}a.currentLine+=o.text.count("\n")}else n++,c+="<"+r;else"\n"===r&&a.currentLine++,c+=r;return a.error=l,a.endPos=n,a.append(c,0),i(t)&&(a._loading>0?a._callback=t:t.call(a,a.result)),a},clear:function(){var e=this;return e._loading=0,e._callback=n,e.endPos=0,e.error=0,e.currentLine=0,e.result.clear(),e}},k:function(){this.result=[]}}),N.builder=g({j:{build:function(e){a(e)&&(e=e.toObject());try{return this.compiler.result(e)}catch(t){}return""}},k:function(e){this.compiler=e}}),N.compiler=g({h:{makeFunction:function(e){var t="var window=null;var document=null;var _print='';"+e+"\nreturn _print";return W.eval("(function(){return function(_data){"+t+"}})()")},fixCode:function(e,t){for(var r=this,i=e.length,o=T(e,i),a="",u=r.variables,s=0,c=0;i>c;c++){var l=e.charAt(c),f=n;if(w.blankChar(l))a+=l;else if(";"!==l&&"{"!==l&&"}"!==l&&"&"!==l&&"|"!==l){if('"'===l||"'"===l)f=2;else if(l>="0"&&"9">=l)f=1;else if(w.alnum(l))f=0;else{if(!w.operatorChar(l)){a+=l;continue}f=3,s=0}var d=o.keyword(c,f),h=d.text||"";0===f&&"var"===h&&(s=1),2===f&&(h=l+x.escapeString(h,l)+l),0===f&&"."!==e.charAt(c-1)?w.keyword(h)?a+=h:0===s||2===s?a+=u.has(h)?h:r.varName(h,t):1===s&&(u.push_uniq(h),a+=h):3===f&&"="===h?(s=2,a+=h):a+=h,2===s&&"="!==h&&(s=1),c=d.endPos}else a+=l,s=0}return a}},j:{varName:function(e,t){return t===r?e:t+"."+e},printText:function(e){return"_print+='"+e+"';"},printVariable:function(e,t){return""===e?e:"_print+="+this.varName(e,t)+";"},compile:function(){return this.result=this.makeFunction(this.compileCode())},compileCode:function(){for(var e=this.clear(),t="",n="",r=e.analyzeLength=e.analyzeResult.length;e.i<r;e.i++)null!==(n=e.compileItem(e.analyzeResult[e.i],"_data"))&&(t+=n);return t},compileMethod:function(e,t,n){var r=N.methods;return t in r?this.printText(x.escapeString(r[t](n),"'")):"_print+="+n+";"},compileLogicSyntax:function(e,t,n){var r,i,o=this,a=t.keyword,u=t.text,s="",c=1,l=a+" "+u,f=N.statements;for("with"===a&&(n=o.fixCode(u,n)),o.i++;o.i<o.analyzeLength;o.i++){var d=o.analyzeResult[o.i],h=d.data,p=d.type;if("/"===(i=h.type)&&1===p&&h.keyword===a)return f[a].call(o,u,n,s,e);if(1===p&&"#"===i)if(i+(r=h.keyword)in f)s+=f[i+r].call(o,h.text,n);else{if(!f[r]){c=2,l=r;break}s+=o.compileItem(d,n)}else s+=o.compileItem(d,n)}return!1},compileItem:function(e,t){var r=this,i=n,o=e.data;if(e instanceof N.analyzer)i=new N.compiler(e).compileCode();else if(1===e.type){var a=o.type;a?"="===a?i=r.printVariable(o.text,t):"$"===a?i=r.printVariable(o.text):"#"===a?i=r.compileLogicSyntax(e,o,t):"@"===a&&(i=r.compileMethod(e,o.keyword,o.text)):i=o.text+"\n"}else l(o)||(i=r.printText(o));return i},clear:function(){var e=this;return e.error=e.i=0,e.result="",e.variables=[],e.analyzeResult=e.analyzer.result,e}},k:function(e){var t=this;t.analyzer=e,t.clear()}}),z=W.animation=g({a:"events",f:{data:{keyframes:{}},append:m(function(e,t){if(u(e)&&(e=B(e).html()),a(e)){var n=z.parser(e),r=z.data.keyframes;h(n.keyframes,function(e,n){var i=n.name,o=n.rules;t!==!1&&H.keyframes(i,o),r[i]=o})}},{each:[s]}),remove:m(function(e){a(e)&&delete z.data.keyframes[e]},{each:[s]})},i:{},j:{append:function(){},exec:function(){}},k:function(){}}),z.timingFunction=g({f:{linear:[0,0,1,1],ease:[.25,.1,.25,1],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1],snap:[0,1,.5,1],"cubic-bezier":function(e,t,n,r){function i(e){return((l*e+c)*e+s)*e}function o(e){return((h*e+d)*e+f)*e}function a(e){return(3*l*e+2*c)*e+s}function u(e){for(var t,n,r,o,u=0,s=e;8>u;u++){if(p(r=i(s)-e)<m)return s;if(p(o=a(s))<m)break;s-=r/o}if((s=e)<(t=0))return 0;if(s>(n=1))return 1;for(;n>t;){if(p((r=i(s))-e)<m)return s;e>r?t=s:n=s,s=.5*(n-t)+t}return s}var s=3*e,c=3*(n-e)-s,l=1-s-c,f=3*t,d=3*(r-t)-f,h=1-f-d,p=Math.abs,m=1e-6;return function(e){return o(u(e))}}},k:function(e){var t=n,r="cubic-bezier",i=z.timingFunction;s(e)?t=e:(e=e.trim()).left(12)===r?t=h(e.between("(",")",11).split(","),function(e,t){return float(t.trim())},!0):e in i&&(t=i[e]),t===n&&(t=i.linear);for(var a=0;4>a;a++)o(t[a])?t[a]>1&&(t[a]=1):t[a]=0;return i[r].apply(this,t)}}),z.parser=g({f:{value:function(e){function t(e,t){var n=t.length,r=[];if("rgb"===e&&3!=n||"rgba"===e&&4!=n)return!1;for(var i=0;n>i;i++){var o=t[i];if("number"!==o.type||!w.number(o.value))return!1;r[i]=float(o.value)}var a={r:r[0],g:r[1],b:r[2]};return 4==n&&(a.a=r[3]),{type:"color",unit:e,value:a}}function r(e){for(var t=0,n="",r="",i=[],o=function(){1==u&&(n+="<?=v"+t++ +"?>",i.push(~~r),r="",u=0)},a=0,u=0,s=e.length;s>a;a++){var c=e.charAt(a);c>="0"&&"9">=c?(0==u&&u++,r+=c):(o(),n+=c)}return o(),{type:"text",tpl:N(n),value:i}}function i(r){var i,o=e.charAt(c+1);if("("===o){c+=2;var u=a();return u===!1?u:"rgb"===r||"rgba"===r?t(r,u):{type:"function",name:r,value:u}}return"%"===o&&++c&&(r+=o),w.number(r)?{type:"number",value:float(r),unit:n}:(i=T.unit(r))!==n?i:r in _.colors?{type:"color",unit:"rgb",value:d(_.colors[r])}:{type:"string",value:r}}function o(e){if("#"===e){var t=f.hex(c);if((c=t.endPos)&&0==t.error)return{type:"color",unit:"rgb",value:d(t.text)}}else if('"'===e||"'"===e){var n=f.keyword(c,2);if((c=n.endPos)>-1&&0==n.error)return r(n.text)}else if(w.alnum(e)||"-"===e||"."===e){var o=f.keyword(c,4);if((c=o.endPos)>-1&&0==o.error){var a=i(o.text);if(a!==!1)return a}}return!1}function a(){for(var t,n=[];l>c&&")"!==(t=e.charAt(c));c++)if(w.blankChar(t))c=f[h](c,l)-1;else if(","!==t){var r=u();if(r===!1)return!1;1==r.length?n.push(r[0]):n.push({type:"array",value:r})}return n}function u(){for(var t,n=[];l>c;c++){if(")"===(t=e.charAt(c))||","===t){c--;break}if(w.blankChar(t))c=f[h](c,l)-1;else{var r=o(t);if(r===!1)return!1;n.push(r)}}return n}var s,c=0,l=(e+="").length,f=new T(e,l),d=_.hex2rgb,h="skipWhiteSpace",p=u();return 1===p.length?(s=p[0],s.text=e):s={type:"array",value:p,text:e},s}},k:function(e,t,i){function o(){var t="";for(y++;f>y;y++){var n=e.charAt(y);if("]"===n)break;if(!w.operatorChar(n))return!1;t+=n}return t}function a(){var t,r="",i="",a="",u={},s=0;for(y++;f>y;y++)if("}"===(t=e.charAt(y))||3==s&&";"===t){if(3===s){if("animation-timing-function"===r)u[r]=i;else{var c=z.parser.value(i);if(c===n)return!1;c.operator=a,u[r]=c}r=i=a="",s=0}if("}"===t)break}else if(3>s&&b(t))y=d[v](y,f)-1,0==s&&s++;else if(1==s)if(":"===t)s++;else if("["===t){if(a=o(),a===!1)return!1}else{if("-"!==t&&!g(t))break;r+=t}else if(2==s)b(t)&&(y=d[v](y,f)),y--,s++;else if(3!=s||'"'!==t&&"'"!==t)3==s?i+=t:0===s&&(s++,y--);else{var l=d.keyword(y,2);if((y=l.endPos)&&0!==l.error)return!1;i+=t+x.escapeString(l.text,t)+t}return u}function u(t){for(var r,i,o="";f>y;y++)if("%"===(r=e.charAt(y))||","===r||"."===r||g(r))o+=r;else{if(!b(r)){if("{"===r)break;return!1}y=d[v](y,f)-1}return(i=a())!==!1?h(o,function(e,r){(r=_.percent(r))!==n&&(t[r]=p(t[r]||{},i))},!1,","):!1}function s(t){var n,r=d.keyword(y,0),i={};for(y=r.endPos+1;f>y&&"{"!==(n=e.charAt(y));y++)if(!b(n))return!1;for(y++;f>y&&"}"!==(n=e.charAt(y));y++)if(g(n)){if(u(i)===!1)return!1}else if(!b(n))return!1;return t.name=r.text,t.rules=i,!0}function c(){if(!g(e.charAt(++y)))return!1;var t,n=d.keyword(y,0);if("keyframes"!==n.text)return!1;for(y=n.endPos+1;f>y;y++){if(g(t=e.charAt(y))){var r={};if(s(r)===!1)return!1;m.keyframes.push(r);break}if(!b(t))return!1}return!0}for(var l,f=i===r?e.length:i,d=T(e,f),m={error:0,endPos:0,keyframes:[]},v="skipWhiteSpace",g=w.alnum,b=w.blankChar,y=t===r?0:t;f>y;y++)if("@"===(l=e.charAt(y))){if(c()===!1){m.error=1;break}}else if(!b(l)){m.error=1;break}return m.endPos=y,m}}),z.keyframes=g(function(){function e(e,t){return e===l?t:z.parser.value(t)}function t(e){for(var t=0,n="",r="",i=0,o=e.length;o>i;i++){var a=e.charAt(i);if("["===a){if(0==t){t++;continue}break}if("]"===a)break;if(1===t&&w.operatorChar(a))r+=a;else{if(0!==t)break;n+=a}}return{name:n,operator:r}}function i(e){if(e in d)return d[e];var t=H.keyframes(e);return t!==n?(z.append(t,!1),d[e]):n}var o="_timingFunction",c="_defaultProperty",l="animation-timing-function",f=z.timingFunction,d=z.data.keyframes;return{a:"events",e:{fps:60,delay:0,fillMode:"forwards",duration:0,direction:"normal",iterationCount:1,iterationDelay:!1,timingFunction:"linear"},i:{timer:n,state:"ready",stage:0,count:0,rules:n,stages:n,percents:n,property:n,backward:!1},f:{query:i},h:{backward:function(e){var t=this;return e===r?"alternate"===t.opts.direction&&t._count%2?!0:!1:(t._backward=e,t)},progress:function(e,t,n){var r=this,i=r._stageTimingFunc(t);return r.emit("progress",[r.updateValues(e.begin,e.end,e.from,e.to,i,n),n],!0)},stage:function(e){var t=this;if(e===r)return t._stage;var n=t._stageData=t._stages[e];return t._backward=t.backward(),t._stage=e,t._stageBegin=n.begin,t._stageEnd=n.end,t._stageTimingFunc=n.timingFunction||t[o],t},complete:function(){var e=this,t=e.opts,n=e._timer,r=e._backward,i=e._stageLength,o=t.fillMode,a=t.iterationCount,u=t.iterationDelay;return++e._count<a||"infinite"===a?(e.stage(e.backward()?i-1:0),n.stop().reset(),u||(n._t4=n.delay()),n.start(),e.emit("iteration",e._count)):("none"==o||r?e.progress(e._stages[0],0,100):"forwards"==o&&e.progress(e._stages[i-1],1,100),n.stop(),e._state="completed",e.stage(i-1).emit("complete")),e},findNextValue:function(e,t){for(var i,o=this,a=o._rules,u=o._percents,s=o[c],l=n,f=t||0,d=u.length;d>f;f++)if((i=a[u[f]][e])!==r){l=i;break}return l===n&&s&&e in s&&(l=s[e]),l},loadRules:function(o){var s=this,c={},f=[],d=s._property={},h=!1,p=!0;if(a(o)){if(!(o=i(o)))return s;p=!1}else u(o)&&(h=!0);for(var m in o){var v=o[m],g={};if(!((m=_.percent(m))===n||m>100||0>m)){f.push(m);for(var b in v){var y=p?e(b,v[b]+""):v[b],k=b;if(h){var w=t(k);k=w.name,y.operator=w.operator}g[k]=y,g[k]["%"]=m,d[k]===r&&b!==l&&(d[k]=y)}c[m]=g}}return 100 in c||(c[100]={},f.push(100)),s._rules=c,s._percents=f.order("asc"),s},computeValue:function(e,t,n){if(!(e in t&&e in n))return t[e];var r=t[e].operator,i=t[e].value,o=n[e].value,a=function(e,t){return"+"===r?e+=t:"-"===r?e=t-e:"*"===r?e*=t:"/"===r&&(e=t/e),e};switch(t[e].type){case"number":t[e].value=a(i,o)}return t[e]},formatStages:function(){for(var e=this,t=e._rules,r=e._stages=[],i=e._percents,o=e._timefns={},a=i[0],u=0,s=p({},e[c]||(0==a?t[a]:{})),d=s,h=0,m=i.length;m>h;h++){var v=i[h],g=t[v],b=r[h]={begin:u,end:v,from:p({},d),to:{},timingFunction:n};l in d&&(o[u]=b.timingFunction=f(d[l]),delete d[l]);for(var y in g)s[y]=e.computeValue(y,g,d);for(y in s){var k=n;if(y in g)k=g[y];else if((k=e.findNextValue(y,h+1))===n)continue;b.to[y]=k}d=s,u=v}return e},updateValues:function(e,t,i,a,u,s){function c(n,r,i,a,c){if(t!==a||e!==i){var l=g._timefns[i]||g[o];return(n+(r-n)*l((s-i)/(a-i))).float(c)}var f=r-n,d=a-i,h=Math.over(e-i,d),p=Math.over(t-i,d);return(n+(h*f+(p-h)*f*u)).float(c)}function l(n,r,i,o){return i+(o-i)/2>e+(t-e)*u?n.value:r.value}function f(e,t,n,r){return t.name+"("+m(e,t,n,r,",")+")"}function d(e,t,r,i){var o=t.unit,a="px"===o||"deg"===o?0:4,u=c(e.value,t.value,r,i,a);return o===n?u:u+o}function h(e,t,n,i){var o=e.value,a=t.value,u=t.unit,s=[c(o.r,a.r,n,i),c(o.g,a.g,n,i),c(o.b,a.b,n,i)],l={r:s[0],g:s[1],b:s[2]};return"rgba"===u&&(o.a===r&&(l.a=1),s.push(l.a=c(o.a,a.a,n,i))),u+"("+s.join(",")+")"
}function p(e,t,n,r){for(var i=e.value,o=t.value,a={},u=0,s=i.length;s>u;u++)a["v"+u]=c(i[u],o[u],n,r);return e.tpl.render(a)}function m(e,t,n,i,o){for(var a=e.value,u=t.value,s=[],c=0,l=u.length;l>c;c++){var f=u[c];f!==r&&s.push(v(a[c],f,n,i))}return s.join(o||" ")}function v(e,t,n,i){var o=t.type,a="";return e===r||t===r?"":(e.type!==o||("number"===o?a=d(e,t,n,i):"string"===o?a=l(e,t,n,i):"color"===o?a=h(e,t,n,i):"text"===o?a=p(e,t,n,i):"array"===o?a=m(e,t,n,i):"function"===o&&(a=f(e,t,n,i))),a)}var g=this,b={};for(var y in a){var k=i[y],w=a[y];if(k!=r&&w!=r)b[y]=v(k,w,k["%"]||0,w["%"]||100);else if(1===u&&w!==r){var x=w["%"];b[y]=v(w,w,x,x)}}return b}},j:{elapsedTime:0,fps:function(e){return this.opt("fps",e)},iterationCount:function(e){return this.opt("iterationCount",e)},iterationDelay:function(e){return this.opt("iterationDelay",e)},fillMode:function(e){return this.opt("fillMode",e)},duration:function(e){return a(e)&&(e=_.timeUnit(e,"ms")),this.opt("duration",e)},direction:function(e){return this.opt("direction",e)},delay:function(e){return this.opt("delay",e,function(){this._timer.delay(e)})},timingFunction:function(e){var t=this;return e===r?t[o]:(t[o]=f(e),t)},state:function(e){var t=this;return e===r?t._state:(t._state=e,t)},rules:function(e){var t=this;return e===r?t._rules:t.loadRules(e)},pause:function(){return this._timer.pause(),this.emit("pause")},stop:function(){var e=this;return e._timer.stop(),e.reset().emit("stop")},start:function(){var e=this,t=e.opts,r=t.duration,i=Math.ceil(1e3/t.fps);if("completed"==e._state&&e.reset(),e._stages===n){if(e._rules===n)return e;e.formatStages(),e.stage(0),e._stageLength=e._stages.length}return e._timer.interval(i>r?r:i).start(),e.emit("start")},reset:function(){var e=this;return e.stage(0),e._count=0,e._timer.reset(),e},clear:function(){var e=this;return e._count=0,e._property=n,e._rules=n,e._stage=0,e._stages=n,e._percents=n,e._timefns=n,e._timer.reset(),delete e._stageData,delete e._stageBegin,delete e._stageEnd,delete e._stageTimingFunc,e},remove:m(function(e){var t=this;e===r&&(t.clear(),t._timer.remove())},{each:[s]}),defaultProperty:function(t){var n=this;return t===r?n[c]:(n[c]=h(t,e,!0),n)}},k:function(e){var t=this,n=t.init_opts(e);"on"in n&&t.on(n.on),"rules"in n&&t.rules(n.rules),t.duration(n.duration),t.timingFunction(n.timingFunction),t._timer=new S(function(){var e=t._backward,r=t._stageData,i=t._stageBegin,o=t._stageEnd,a=n.duration,u=t.elapsedTime=this.elapsedTime,s=100*(u/a);u>=a?t.complete():!e&&s>=o?t.progress(r,1,o).stage(t._stage+1):e&&i>=100-s?t.progress(r,0,i).stage(t._stage-1):e?(s=100-s,t.progress(r,(s-i)/(o-i),s)):t.progress(r,(s-i)/(o-i),s)},{delay:n.delay,on:{stateChange:function(e){t._state=e}}})}}}),z.keyframes.united=W.unite(z.keyframes),H=W.css=g({type:1,f:{keyframes:function(e,i){var o=t.styleSheets,s=W.init.anim;if(!s||e===r||!o)return n;if(u(i)){var c=H(),l="@"+s+" "+e+"{",f=W.init.cssName;for(var d in i)l+=_.percent(d)+"%{",h(i[d],function(e,t){e in f&&(e=f[e]),l+=e+":"+(a(t)?t:t.text)+";"}),l+="}";return l+="}",c.sheet.insertRule(l,0),H}for(var p=0;p<o.length;p++)for(var m=o[p].cssRules||o[p].rules,v=0;v<m.length;v++){var g=m[v];if(g.name===e&&7===g.type){for(var b="",y=g.cssRules||g.rules,k=0;k<y.length;k++)b+=y[k].cssText;return"@keyframes "+e+"{"+b+"}"}}return n}},j:{length:0,enable:function(e){var t=this,n=t.sheet;return e===r?!n.disabled:(n.disabled=!e,t)},source:function(){for(var e=this,t=e.rules,n="",r=0;r<e.length;r++)n+=t[r].selectorText+"{"+t[r].style.cssText+"}";return n},insert:function(e,t,n){var r=this,i=r.sheet,o="";if(u(t)){var s=W.init.cssName;h(t,function(t,i){if((">"===t||" "===t)&&u(i))return h(i,function(i,o){r.insert(e+t+i,o,n)}),void 0;if(t in s&&(t=s[t]),t in H.hooks){var c=H.hooks[t](i);a(c)?o+=c:u(c)&&(o+=c.name+":"+c.value+";")}else o+=t.unCamelCase()+":"+i+";"})}else a(t)&&(o=t);return""===e||""===o||w.ie(6)&&-1!==e.indexOf(">")?void 0:(i.insertRule?i.insertRule(e+"{"+o+"}",n):i.addRule&&i.addRule(e,o,n),r.length++,r)},append:m(function(e,t){this.insert(e,t,this.length)},{each:[s,u]}),remove:m(function(e){var t=this;if(e===r)t._dom.remove();else if(o(e)){var n=t.sheet;n.deleteRule?n.deleteRule(e):n.removeRule&&n.removeRule(e),t.length--}else if(a(e))for(var i=t.rules,u=i.length-1;u>=0;u--)i[u].selectorText.toLowerCase()===e.toLowerCase()&&t.remove(u)},{each:[s]}),clear:function(){for(var e=this,t=e.length-1;t>=0;t--)e.remove(t);return e}},k:function(e,t){var n=this,r=n._dom=newDom("style").attr("type","text/css").appendTo(t||"head");n.sheet=r.dom.sheet||r.dom.styleSheet,n.rules=n.sheet.cssRules||n.sheet.rules,i(e)&&(e=e.call(n)),u(e)&&n.append(e)}}),H.hooks=function(){var e={},t="inline-block",n=W.init.css;return n.opacity||(e.opacity=function(e){return{name:"filter",value:"alpha(opacity="+100*e+")"}}),n.inlineBlock||(e.display=function(e){return e===t?"display:"+t+";zoom:1;":{name:"display",value:e}}),e}(),H.pseudos=function(){function i(e){return e.parentNode}function o(e,t,n){var r=B.elementIndex(e,null,n)+1,i=!1;if(w.number(t))return r==t;switch(t){case"even":case"2n":i=0==r%2;break;case"odd":case"2n+1":i=1==r%2;break;default:var o=t.replace(/(^|\D+)n/g,"$11n").split("n"),a=0|o[0],u=0|r-o[1];i=a*u>=0&&0==u%a}return i}var a="readOnly",u={focus:function(e){return e===t.activeElement&&(!t.hasFocus||t.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},active:function(e){return e===e.ownerDocument.activeElement},target:function(t){var n=e.location.hash;return n&&n.slice(1)===t.id},parent:function(e){return!!e.firstChild},root:function(e){return e===t.documentElement},enabled:function(e){return e.disabled!==!1},disabled:function(e){return e.disabled===!1},"read-only":function(e){return e[a]===a||e[a]===!0},"read-write":function(e){return!u[a](e)},password:function(e){return"password"===e.type},has:function(e,t){return D.query(t,e,!1)!==n},not:function(e,t){return D.matchSelector(e,t)===!1},odd:function(e){return o(e,"odd")},even:function(e){return o(e,"even")},html:function(e,t){return e.innerHTML==t},value:function(e,t){return e.value==t},hidden:function(e){return"none"===B.getStyle(e,"display")&&B.contains(e,e.ownerDocument)},checked:function(e){var t=e.nodeName;return"INPUT"===t&&!!e.checked||"OPTION"===t&&!!e.selected},contains:function(e,t,n){return n!==r&&"true"==n+""?(e.innerHTML||"").indexOf(t)>-1:(e.textContent||e.innerText||"").indexOf(t)>-1},text:function(e){var t;return"INPUT"===e.nodeName&&"TEXT"===e.type&&((t=e.getAttribute("type"))==n||"text"===t.toLowerCase())},selected:function(e){return i(e)&&i(e).selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},"first-child":function(e){var t=i(e).firstChild;do if(!t||1===t.nodeType)break;while(t=t.nextSibling);return t===e},"last-child":function(e){var t=i(e).lastChild;do if(!t||1===t.nodeType)break;while(t=t.previousSibling);return t===e},"only-child":function(e){var t=!1,n=0,r=i(e).childNodes,o=r.length;if(0==o)return t;for(var a=0;o>a;a++)if(1===r[a].nodeType){if(n>0){t=!1;break}if(r[a]!==e){t=!1;break}t=!0,n++}return t},"nth-child":o,"nth-last-child":function(e,t){return o(e,t,!0)},"nth-of-type":function(e,t){for(var n=1;e=e.previousSibling;)e.tagName===e.tagName&&n++;return o(e,n,t)},"nth-last-of-type":function(e,t){for(var n=1,r=e.tagName;e=e.nextSibling;)e.tagName===r&&n++;return o(e,n,t)},"first-of-type":function(e){for(var t=e.tagName;e=e.previousSlibling;)if(e.tagName===t)return!1;return!0},"last-of-type":function(e){for(var t=e.tagName;e=e.nextSibling;)if(e.tagName===t)return!1;return!0},"only-of-type":function(e){for(var t=i(e).childNodes,n=t.length-1;n>-1;n--)if(t[n].tagName===e.tagName&&t[n]!==e)return!1;return!0}};return u}(),H.selector=D=function(){var e=function(e,t){if(9===e.nodeType)return!1;if(t.selector){var r=D.querySelectors(t.selector);if(r===n)return!1;for(var i=0,o=r.length;o>i;i++)if(r[i]===e)return!0;return!1}var a=t["#"],u=t.tag,s=t["."],c=t.attr,l=t[":"],f=t.content;switch(!0){case"*"!==u&&e.nodeName!==u:case a&&e.id!=a:case s&&!w.element.className(e,s):case c&&!D.matchAttr(e,c):case l&&!D.matchPseudos(e,l):case f&&!D.matchContent(e,f):return!1}return!0};return{cache:!0,caches:{},cacheSize:0,maxCacheSize:100,parse:function(e,t){var r=0,i=e.length,o=T(e,i),u=function(){for(var t="";i>r;r++){var n=e.charAt(r);if("\n"===n&&(n=" ")," "!==n&&"	"!==n&&">"!==n&&"<"!==n&&"+"!==n&&"~"!==n&&"/"!==n){r--;break}t+=n}return""===(t=t.trim())&&(t=" "),t},s=function(e){var t=":",n=o.pseudoClass(r,!1);return r=n.endPos,0!=n.error?!1:(e[t]||(e[t]={}),e[t][n.name]=n.arguments,void 0)},c=function(e){var t=o.attribute(r,!1),n=t.value;return r=t.endPos,0!=t.error?!1:(e.attr||(e.attr=[]),e.attr.push({name:t.name,operator:t.operator,value:n}),void 0)},f=function(t){var n=e.charAt(++r),a="";if('"'===n||"'"===n){var u=o.keyword(r,2);if(r=u.endPos+1,0!=u.error)return!1;a=u.text}for(;i>r&&"}"!==(n=e.charAt(r));r++)a+=n;t.content=a},d={"[":c,":":s,"{":f},h=function(n){for(var u,s=0,c={tag:"*","<":n};i>r;r++){var f=e.charAt(r);if("#"===f||"."===f)u=o.keyword(++r,5),r=u.endPos,a(c[f])?c[f]+=" "+u.text:c[f]=u.text;else if("["===f||":"===f||"{"===f){if(d[f](c)===!1)return!1}else if("("===f){if(0!==s)return!1;r++;var h=m();l(h)||(c.selector=h)}else if("*"===f)if(0===s)c.tag=f;else{if(0!==(u=o.keyword(++r,1)).error)return!1;r=u.endPos,c[f]=u.text}else{if(!w.alnum(f)){r--;break}if(0!==s)return!1;r=(u=o.keyword(r,0)).endPos,c.tag=t===!1?u.text:u.text.toUpperCase()}s=2}return 0==s?!1:c},p=function(){for(var t=[],o=n;i>r;r++){var a=e.charAt(r);if(","===a||")"===a)break;if("\n"!==a&&" "!==a&&"	"!==a&&">"!==a&&"<"!==a&&"+"!==a&&"~"!==a){var s=h(o);if(s===!1)return s;t.push(s)}else o=u()}return t},m=function(){for(var t=[];i>r;r++){var n=e.charAt(r);if(!w.blankChar(n)&&","!==n){if(")"===n)break;var o=p();if(!o)break;if(l(o)||t.push(o),")"===e.charAt(r))break}}return t};return m()},matchContent:function(e,t){var n=e.innerHTML;return n?n.trim()===t.trim():!1},matchAttr:function(e,t){for(var i=0,o=t.length,a=0;o>a;a++){var u=t[a],s=u.operator,c=u.value,l=e.getAttribute(u.name);if("="!=s&&"=="!=s&&""!=s||c!==r){if(!w.operator(u.value,s,l))break}else if(l==n)break;i++}return i==o},matchPseudos:function(e,t){for(var n in t){var r=H.pseudos[n];if(!r||!r.apply(e,[e].mergeArray(t[n])))return!1}return!0},matchElement:e,findElements:function(e,t,r){if(e.selector)return D.querySelectors(e.selector,t);var i=e.tag,o=e["#"],a=e["."],u=e.attr,s=e[":"],c=e.content,l=n;if(o){var f=B.getElementById(o,t);if(f===n)return n;l=[f]}else l=B.getElementsByTagName(i,t);if(!(a||u||s||c))return r===!1&&l!==n?l[0]:l;if(l===n)return l;for(var d=[],h=w.element.className,p=D.matchAttr,m=D.matchPseudos,v=D.matchContent,g=0,b=l.length;b>g;g++){var y=l[g];if(!(o&&"*"!==i&&y.nodeName!==i||a&&!h(y,a)||u&&!p(y,u)||s&&!m(y,s)||c&&!v(y,c))){if(r===!1)return y;d.push(y)}}return 0==d.length?n:d},findSibling:function(t,r,i,o){var a="nextSibling",u=r,s=[];for(o===!1&&(a="previousSibling");u=u[a];)if(1===u.nodeType&&e(u,t)){if("+"===i)return[u];"~"===i&&s.push(u)}return 0==s.length?n:s},findRelativeElement:function(t,r,i,o){var a=r;if(">"==i){if(w.find(a=a.parentNode,o))return n;if(e(a,t))return a}else if(" "==i)for(;a=a.parentNode;){if(w.find(a,o))return n;if(e(a,t))return a}else if(("+"==i||"~"==i)&&D.findSibling(t,r,i,!1)!==n)return r;return n},matchSelector_P1:function(e,t,r){for(var i=t.length,o=t[i-1]["<"],a=i-2,u=e;a>=0;a--){var s=t[a];if((u=D.findRelativeElement(s,u,o,r))===n)return!1;o=s["<"]}return!0},matchSelector_P2:function(t,r,i){for(var o=r.length,a=[t],u=t;(u=u.parentNode)&&!w.find(u,i)&&9!==u.nodeType;)a.push(u);var s=a.length;if(0==s)return!1;var c=function(t,i,o){var a=r[o+1]["<"];if(" "==a){for(;--i>=0;)if(e(t[i],r[o])){if(0>o-1)return!0;if(0!=c(t,i,o-1))return!0}else if(0>o)return!1}else if(">"==a){if(e(t[--i],r[o]))return--o<0?!0:c(t,i,o)}else if("+"==a||"~"==a){var u=D.findSibling(r[o],t[i],a,!1);if(u!==n)return--o<0?!0:c(t,i,o)}return!1};return 1==c(a.reverse(),s-1,o-2)},matchSelector:function(t,n,r){a(n)&&(n=D.parseSelector(n));for(var i=0,o=n.length;o>i;i++){var u=n[i],s=u.length,c=D.getMatchMethod(u);if(!(1>s)&&e(t,u[s-1])&&(1==s||c(t,u,r)))return!0}return!1},getMatchMethod:function(e){for(var t=0,n=0,r=1,i=e.length;i>r;r++){var o=e[r]["<"];">"==o&&1!=n&&(n=1),r>1&&" "==o&&(t=1)}return 0==n&&(t=0),0==t?D.matchSelector_P1:D.matchSelector_P2},querySelector:function(e,t,r){var i=e.length,o=D.findElements;if(0===i)return n;if(1===i)return o(e[i-1],t,r);var a=o(e[i-1],t);if(a===n)return n;for(var u=a.length,s=[],c=D.getMatchMethod(e),l=0;u>l;l++)if(c(a[l],e,t)===!0){if(r===!1)return a[l];s.push(a[l])}return 0==s.length?n:s},querySelectors:function(e,t,r){var i=e.length,o=D.querySelector;if(1===i)return o(e[0],t,r);for(var a=[],u=0;i>u;u++){var s=o(e[u],t,r);if(s){if(r===!1)return s;for(var c=0,l=s.length;l>c;c++)a.push_uniq(s[c])}}return 0==a.length?n:a},parseSelector:function(e){var t=n,r=D.caches,i=D.parse;return!D.cache||e.length>50?i(e):(D.cacheSize>D.maxCacheSize&&(D.caches=r={},D.cacheSize=0),r[e]?t=r[e]:(D.cacheSize++,t=r[e]=i(e)),t)},query:function(e,t,r){a(t)&&(e=t+" "+e,t=n);var i=D.parseSelector(e);return D.querySelectors(i,t,r)}}}(),H.html=g({f:{attrText:function(e){var t=e.name,r=e.operator,i=e.value;return""===r&&i==n?t:t+r+'"'+x.escapeString(i,'"')+'"'},nodeHtml:function(e,t,r){var i="<"+(e=e.toLowerCase());return h(t,function(e,t){i+=" ",i+=a(t)?t:H.html.attrText(t)}),l(r)&&w.singleTag(e)?i+" />":(i+=">",r!=n&&(i+=r),i+"</"+e+">")},makeNodeHtml:function(e,t){var n="",r="",i=e.tag,o=e["*"],a=e["#"],u=e["."],s=e.attr,c=e[":"],l=e.content,f=[],d=function(e,t){f.push({name:e,operator:"=",value:t})};if("*"===i&&(i="div"),a&&d("id",a),u&&d("class",u),s&&f.mergeArray(s),l&&(r+=l),t&&(r+=t),c&&(h({password:"type"},function(e,t){c[e]&&d(t,e)}),h("checked selected disabled readOnly hideFocus",function(e,t){c[t]&&f.push(t)})),o)for(var p=0;o>p;p++)n+=H.html.nodeHtml(i,f,r);else n=H.html.nodeHtml(i,f,r);return n},makeHtml:function(e,t){var r="",i="";t!=n&&(r=i=t);for(var o=e.length-1,a=n;o>=0;o--){var u=0,s=e[o],c="";a&&" "!=a&&">"!=a?("+"==a||"~"==a)&&(u=1,i=t):i=r,s.selector?h(s.selector,function(e,t){c+=H.html.makeHtml(t,i)}):c=H.html.makeNodeHtml(s,i),0==u?r=c:1==u&&(r=c+r),a=s["<"]}return r}},k:function(e,t){for(var n="",r=D.parseSelector(e),i=0,o=r.length;o>i;i++)n+=H.html.makeHtml(r[i],t);return n}}),B=W.dom=g(function(){var c=e.document.documentElement,d=/<(?:script|style|link)/i,v=W.init,g=v.dom,k=v.cssName,x="__StdWidget__",_="__StdEvents__",T="__StdData__",C="__StdAnimation__",F={extend:m(function(e,t){this.prototype[e]=t},{each:[u,s]}),on:function(e,t){return h(t,function(t,n){return B.united(t).on(e,n)},!0)},off:function(e,t){return h(t,function(t,n){return B.united(t).off(e,n)},!0)},text:function(e){return t.createTextNode(e)}},L=F.contains=function(e,t){var n=!1;return E(e)&&(e=e.document.documentElement),n=e===t?!0:g.contains?(9===t.nodeType?t.documentElement:t).contains(e):g.compareDocPos?!!(16&t.compareDocumentPosition(e)):w.element.descendant(e,t)},E=F.isWindow=function(e){return e!=n&&e==e.window},P=F.window=function(t,n){return E(t)?t:9===t.nodeType?t.defaultView||t.parentWindow:n===!0?!1:e},R=F.inDocument=function(e){return L(e,e.documentElement||c)},O=F.document=function(e){return 9===e.nodeType?e:P(e).document},q=F.loadHTML=function(e,r){o(e)&&(e+="");var i=W.init.dom.innerFullHTML,a=t.createElement("div"),u=[];if(a.innerHTML=i?"<a>a</a>"+e:e,i&&a.removeChild(a.firstChild),r!==!1&&-1!=e.indexOf("</script>")){var s=tt("script",a);if(s!==n)for(var c=0,l=s.length;l>c;c++){var f=s[c],d=f.type;f.type=d?d+"/":"//",f["*"]=1}}for(u.mergeArray(a.childNodes),a.textContent="";a.firstChild;)a.removeChild(a.firstChild);return u},I=F.behaviorScript=function(e,t){var n=B(e),r="__StdLoadScript__",i="text/std-",o=e.type;if(n.hasData(r))return!1;if(n.data(r,1),l(o)||"text/javascript"===o){if(t!==!1){var a=n.attr("src");l(a)?W.eval(n.text()):(newDom("script").attr("src",a).insertAfter(n),n.remove())}}else if(o.left(9)===i){var u=n.attr("std-name"),s=o.substring(9),c="true"===n.attr("render-here");if("animation"===s)z.append(e);else if(o===i+"css-selector"){if(c){var f=H.html(n.html()),d=Z(f);n.parent().insertBefore(d,n),n.remove()}}else if(o===i+"template")(c||!l(u))&&new N({element:n});else if(o!==i+"ui"||l(u)){if(o===i+"read-file"){var h=function(e){A.get(n.attr("uri"),function(t){n.parent().insertAfter(t,n),n.remove(),e&&e()})};"true"===n.attr("std-hold")?M.hold(function(e,t){h(function(){e.release(t)})}):h()}}else j.rule.append(u,n.html())}else o in I&&I[o](o,n);return!0},U=function(e,t){var r=e.ownerDocument;if(t.call(e,e),L(e,r)){var i=tt("script",e);if(i!==n)for(var o=0,u=i.length;u>o;o++){var s=i[o];if(1===s["*"]){var c=s.type;"//"===c?s.removeAttribute("type"):a(c)&&"/"===c.right(1)&&(s.type=c.substr(0,c.length-1)),s["*"]=0,I(s)}}}},X=F.get=function(e,t){var i=n;return e===r?i:(u(e)?e instanceof B?i=e.dom:e.nodeType||E(e)?i=e:f(e)?i=e[0].dom:s(e)?i=X(e[0]):e.jquery&&e.length&&(i=e.get(0)):a(e)&&(i=rt(e,t,!1)),i)},Y=F.getStyle=function(e,t){var r=e.style;if(t in k&&(t=k[t]),r&&r[t])return r[t];if(e.currentStyle)return e.currentStyle[t];if(P(e).getComputedStyle)try{return P(e).getComputedStyle(e,n).getPropertyValue(t.unCamelCase())}catch(i){}return""},V=F.setStyle=function(e,t,n){t in k&&(t=k[t]);try{e.style[t]=n+""}catch(r){}return B},$=F.clear=function(e){for(var t;t=e.firstChild;)e.removeChild(t);return B},Q=F.addListener=function(e,t,n,r,i){var o="addEventListener";return e[o]?e[o](t,n,r||!1,i):e.attachEvent("on"+t,n),B},K=F.removeListener=function(e,t,n,r,i){var o="removeEventListener";return e[o]?e[o](t,n,r||!1,i):e.detachEvent("on"+t,n),B},Z=F.fragment=function(e,i){var c=t.createDocumentFragment();if(e===r)return c;if(s(e))h(e,function(e,t){(t=X(t))!==n&&c.appendChild(t)});else if(a(e)||o(e))for(var l=0,f=q(e,i),d=f.length;d>l;l++)c.appendChild(f[l]);else u(e)&&c.appendChild(X(e));return c},G=F.clone=function(e,t){return e?e.cloneNode(t===r?!0:t):null},J=F.insertHTML=function(e,t,n){return U(e.parentNode,function(){if(e.insertAdjacentHTML)e.insertAdjacentHTML(t.toLowerCase(),n);else{var r=Z(n),i=e.parentNode;"BeforeBegin"==t?i&&i.insertBefore(r,e):"AfterBegin"==t?e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r):"BeforeEnd"==t?e.appendChild(r):"AfterEnd"==t&&i&&(i.lastChild===e?i.appendChild(r):i.insertBefore(r,e.nextSibling))}}),B},et=F.elementIndex=function(e,t,r){var i=-1,o=e.parentNode;if(!o)return i;var u=o.childNodes;if(!u||0===u.length)return i;var s=0,c=u.length,l=n;for(a(t)&&(l=D.parseSelector(t));c>s;s++){var f=u[s];if(1===f.nodeType&&(!l||D.matchSelector(f,l,e))&&(i++,f===e))break}return r===!0&&-1!==i&&(i=c-i),i};F.getElementById=function(e,r){var i=t.getElementById(e);if(i===n)return n;if(i.id!==e)for(var o=t.all[e],a=0,u=o.length;u>a;a++)if(o[a].id===e){i=o[a];break}return i===n||r&&!w.element.descendant(i,r)?n:i};var tt=F.getElementsByTagName=function(e,r){var i="getElementsByTagName";if(!r)return t[i](e);var a=r.length;if(o(a)){var u=t[i](e),s=u.length;if(0==s)return n;for(var c=[],l=0;s>l;l++){var f=u[l];if(1==f.nodeType)for(var d=0;a>d;d++)if(f!==r[d]&&L(f,r[d])){c.push(f);break}}return 0==c.length?n:c}return r[i](e)};F.getElementsByClassName=function(e,r,i){var a=[],u=[],s="getElementsByClassName";if(r=r?r.toUpperCase():"*",t[s]){var c=t[s](e),l=c.length;if(i){var f=i.length;if(o(f))for(var d=0;l>d;d++)for(var h=c[d],p=0;f>p;p++){var m=i[p];if(h!==m&&L(h,m)){a.push(h);break}}else for(var d=0;l>d;d++)w.element.descendant(c[d],i)&&a.push(c[d])}else a=t[s](e);var v=a.length;if(0===v)return n;if("*"!==r)for(var d=0;v>d;d++)a[d].nodeName===r&&u.push(a[d]);else u=a}else{var v=(a=tt(r,i)).length;if(0===v)return n;for(var g=e.split(" "),b=g.length,d=0;v>d;d++){var y=a[d].className;if(y){for(var k=0,x=y.split(" "),_=x.length,p=0;b>p;p++)for(var S=0;_>S;S++)if(g[p]===x[S]){k++;break}k==b&&u.push(a[d])}}}return 0===u.length?n:u},F.getElementsByName=function(e,t,n){return nt("name","=",e,t,n)};var nt=F.getElementsByAttribute=function(e,t,r,i,o){if(!e||!t||!r)return n;var a=tt(i||"*",o);if(a===n)return a;for(var u=[],s=0,c=a.length;c>s;s++){var l=a[s],f="";f=B.attrHook[e]?B.attrHook[e](l):l.getAttribute(e),w.operator(r,t,f)&&u.push(l)}return u.length>0?u:n};F.getElementsByPseudoClasses=function(e,t,i,o){if(!e&&!H.pseudos[e])return n;s(t)||(t=[]);var a=tt(i||"*",o);if(a!==n){for(var u=[],c=0,l=a.length;l>c;c++){var f=a[c],d=H.pseudos[e].apply(f,t);if(d===!1)break;if(d===!0)u.push(f);else if(d!==r)return d}return 0==u.length?n:u}return n};var rt=F.query=function(e,t,r){return t!==n&&!s(t)&&u(t)&&(t=X(t)),D.query(e,t,r)};F.create=function(){};var it={ui:null,clone:function(e){return B(G(this.dom,e))},document:function(){return O(this.dom)},parentNode:function(){return this.dom.parentNode||n},index:function(e){return et(this.dom,e)},contains:function(e){return L(X(e),this.dom)},offsetParent:function(){for(var e=this.dom,t=e.offsetParent||c;t&&"HTML"!==t.nodeName&&"static"===Y(t,"position");)t=t.offsetParent;return B(t||c)},parent:function(e){if(e===r)return B(this.parentNode());for(var t=this;t=t.parent();)if(t.is(e))return t;return n},cssText:function(e,t){var n=this,i=n.dom.style,o="cssText";if(e===r)return i[o];if(u(e)){var a="";h(e,function(e,t){if(e in k)k=k[e];else if(e in H.hooks){var n=H.hooks[e](t);e=n.name,t=n.value}a+=e+":"+t+";"}),e=a}return t===!0?i[o]+=";"+e:i[o]=e,n},backgroundImage:function(e){var t=this,n="backgroundImage";return e!==r?t.css(n,"url('"+e+"')"):(e=t.css(n))?(h(e=e.replace(/url\(([^)]+)\)/g,"$1"),function(t,n){'"'===n&&e.split(t,1)}),e):""},boxSize:function(e){for(var t=this,n={width:0,height:0},r=["paddingTop","paddingBottom","borderTopWidth","borderBottomWidth"],i=["paddingRight","paddingLeft","borderRightWidth","borderLeftWidth"],o=0;4>o;o++){var a=i[o],u=r[o];n.width+=n[a]=int(t.css(a))||0,n.height+=n[u]=int(t.css(u))||0}if(e===!0){var s=["marginTop","marginRight","marginBottom","marginLeft"];n.height+=(n[s[0]]=int(t.css(s[0])))+(n[s[2]]=int(t.css(s[2]))),n.width+=(n[s[1]]=int(t.css(s[1])))+(n[s[3]]=int(t.css(s[3])))}return n},inDocument:function(){return R(this.dom)},offset:function(){var e,t=this,n=t.dom,r=P(n),i=n.documentElement||c,o="getBoundingClientRect";return!R(n)||E(n)?{x:0,y:0}:(o in n&&(e=n[o]()),{x:e.left+(r.pageXOffset||i.scrollLeft)-(i.clientLeft||0),y:e.top+(r.pageYOffset||i.scrollTop)-(i.clientTop||0)})},position:function(){var e=this,t=e.dom,r=0,i=0,o=n;if(E(t)||9===t.nodeType)return{x:0,y:0};if("fixed"===e.css("position"))o=t.getBoundingClientRect(),r+=o.top,i+=o.left;else{o=e.offset();var a=e.offsetParent();if("html"!==a.nodeName()){var u=a.offset();i-=u.x,r-=u.y}r+=o.y-a.css("borderTopWidth"),i+=o.x-a.css("borderLeftWidth")}return{x:i-e.css("marginLeft"),y:r-e.css("marginTop")}},pageX:function(){var e=this.dom;return e.offsetParent?e.offsetLeft+this.offsetParent().pageX():e.offsetLeft},pageY:function(){var e=this.dom;return e.offsetParent?e.offsetTop+this.offsetParent().pageY():e.offsetTop},visible:function(e){var t=this,n=t.dom,i=t.css("display"),o="none"!==i;if(e===r)return o;var a="display",u="_"+a,s=n[u];return 1==e&&0==o?s?(n[u]="",t.css(a,s)):t.css(a,"block"):0==e&&1==o&&(n[u]=i,t.css(a,"none")),t},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},size:function(e,t){return e===r?this.css(["width","height"]):this.css({width:e,height:t})},hasClass:function(e){return w.element.className(this.dom,e)},addClass:m(function(e){var t=this;a(e)&&!t.hasClass(e)&&(t.dom.className+=" "+e)},{each:[s]}),removeClass:function(e){var t=this,n=t.dom;if(s(e)){for(var r=n.className.split(" "),i=0,o=e.length;o>i;i++)for(var u=0,c=r.length;c>u;u++)e[i]==r[u]&&delete r[u];n.className=r.join(" ").trim()}else a(e)&&t.removeClass(e.split(" "));return t},toggleClass:function(e,t){var n=this;return t===!1?n.removeClass(e):t===!0?n.addClass(e):n.hasClass(e)?n.removeClass(e):n.addClass(e),n},is:function(e){var t=this,n=t.dom,r=!1;return r=a(e)?D.matchSelector(n,e):u(e)?X(e)===n:n===e},html:function(e){var t=this,n=t.dom;return e===r?n.innerHTML:(u(e)||a(e)&&d.test(e)?($(n),t.append(e)):n.innerHTML=e,t)},outerHTML:function(e){var t=this,n=t.dom;return e===r?n.outerHTML:(n.outerHTML=e+"",t)},insertHTML:function(e,t){var n=this;return J(n.dom,e,t),n},sheetText:function(e){var t=this,n=t.dom,i=n.styleSheet,o="";if(e===r){if(i)o=i.cssText;else if(n.sheet)try{var a=n.sheet.cssRules;if(a&&a.length)for(var u=0,s=a.length;s>u;u++)o+=a[u].cssText}catch(c){}return o}return i!==r?i.cssText=e:($(n),t.append(B.text(e))),t},text:function(e){var t=this,n=t.dom;return e===r?n.text||n.textContent||n.innerHTML||"":($(n),t.append(B.text(e)))},value:function(e){var t=this,i=t.dom;return e===r?((e=i.value)==r&&(e=i.getAttribute("value"))==n&&(e=n),e):(i.value===r?i.setAttribute("value",e):i.value=e,t)},contentEditable:function(e){var t=this.dom,n="contentEditable";return e===r?t[n]||!1:(t[n]=e,this)},firstChild:function(){return B(this.dom.firstChild)},lastChild:function(){return B(this.dom.lastChild)},findSibling:function(e,t,i){var o,a,u=this,s=u.dom,c="nextSibling",f=n;switch(e){case"next":a=s[c];break;case"prev":c="previousSibling",a=s[c];break;case"all":var d=s.parentNode;d&&(a=d.firstChild)}if(!a)return n;i===!0&&(f=[]),t!=r&&(o=D.parseSelector(t));do if(a!==u.dom&&1===a.nodeType)if(t==r){if(i!==!0)return B(a);f.push(B(a))}else if(D.matchSelector(a,o)){if(i!==!0)return B(a);f.push(B(a))}while(a=a[c]);return l(f)&&(f=n),f},nextSibling:function(e){return this.findSibling("next",e)},nextSiblings:function(e){return this.findSibling("next",e,!0)},prevSibling:function(e){return this.findSibling("prev",e)},prevSiblings:function(e){return this.findSibling("prev",e,!0)},sibling:function(e){return this.findSibling("all",e)},siblings:function(e){return this.findSibling("all",e,!0)},swap:function(e){var t=this,n=t.parentNode(),r=t.dom,i=X(e),o="insertBefore",a="appendChild";if(!i||!n||r===i)return t;var u=r.nextSibling,s=i.nextSibling;return u?s?(n[o](r,s),n[o](i,u)):(n[o](i,u),n[a](r)):(n[o](r,s),n[a](i)),t},append:m(function(e){var t=this,n=t.dom;(b[1](e)||s(e))&&(e=Z(e)),u(e)&&U(n,function(){n.appendChild(X(e))})}),insertBefore:m(function(e,t){var n=this,i=n.dom;if(e===r)n.prepend(i);else if(t===r){var o=(e=X(e)).parentNode;o&&U(o,function(){o.insertBefore(i,e)})}else e=b[1](e)||s(e)?Z(e):X(e),U(i,function(){i.insertBefore(e,X(t))})}),insertAfter:m(function(e,t){var n,i=this,o=i.dom;if(t===r){var a=(e=X(e)).parentNode;a&&U(a,function(){a.lastChild===e?a.appendChild(o):a.insertBefore(o,e.nextSibling)})}else e=b[1](e)||s(e)?Z(e):X(e),U(o,function(){o.lastChild===(n=X(t))?o.appendChild(e):o.insertBefore(e,n.nextSibling)})}),detach:function(){var e,t=this,n=t.dom;return(e=n.parentNode)&&e.removeChild(n),t},remove:m(function(e){var t=this,i=t.dom;e===r?(i[x]!==r&&i[x].remove(),i[T]=i[_]=n,t.detach()):i.removeChild(X(e))},{each:[s]}),prepend:function(e){var t=this,n=t.firstChild();return n?t.insertBefore(e,n):t.append(e),t},prependTo:function(e){return B(e).prepend(this),this},appendChild:function(e){return this.append(e)},appendTo:function(e){return B(e).append(this),this},clear:function(){return $(this.dom),this},childNodes:function(){return this.dom.childNodes},children:function(e){var t,s=0,c=this,f=[],d=c.dom,h=d.childNodes;if(!h||0===(t=h.length))return n;if(e===r)for(;t>s;s++)1===h[s].nodeType&&f.push(B(h[s]));else if(o(e))f=h[e]||n;else if(i(e))for(;t>s;s++){var p=h[s],m=e.call(c,s,p);if(m!==r)if(m===!0)f.push(p);else{if(m===!1)break;u(m)&&f.push(m)}}else if(a(e))for(var v=D.parseSelector(e);t>s;s++)1===h[s].nodeType&&D.matchSelector(h[s],v,d)&&f.push(B(h[s]));return l(f)&&(f=n),f},find:function(e){var t=rt(e,this.dom);if(l(t))return n;for(var r=[],i=0,o=t.length;o>i;i++)r.push(B(t[i]));return l(t)&&(r=n),r},hover:function(e,t){return this.mouse({enter:e,leave:t})},ajax:function(){var e=this;return A.load.apply(e,arguments).on("success",function(t){e.html(t)})},method:function(e){var t=this,r=Array.slice(arguments,1),o=t[e]||t.dom[e];return i(e)?o.apply(t,r):n},hasData:function(e){var t=this.dom;return e=e.camelCase(),t[T]&&t[T][e]!==r||t.dataset&&t.dataset[e]!==r||this.attr(e)!==n},data:m(function(e,t){var i=this,o=i.dom,a=e.camelCase();return o[T]||(o[T]={}),t==r?((t=o[T][a])===r&&(t=o.dataset?o.dataset[a]:i.attr(e)),t===r&&(t=n),t):(o[T][a]=t,void 0)},{each:[u]}),removeData:m(function(e){var t=this,i=t.dom,o=e.camelCase(),a=i.dataset;e===r&&(i[T]={}),i[T]&&delete i[T][o],a&&a[o]?delete i.dataset[o]:t.attr(o)!==n&&t.removeAttr(o)},{each:[s,a]}),style:function(e){var t=this.dom,n=t.style;return e===r?n:a(e)?n[e]:void 0},renderTemplate:function(e,t){var n=this.clear();if(a(e)){var r=N(e);r&&r.renderTo(n,t)}else e instanceof N&&e.renderTo(n,t);return n},getStyle:function(e){var t=this,r=t.dom,i=B.cssHook;return r===n?n:i[e=e.camelCase()]?i[e].call(t,r):Y(r,e)},setStyle:function(e,t){var r=this,o=r.dom,a=B.cssHook;return o===n?r:(i(t)&&(t=t.call(r,r.getStyle(e))),""===t?r.removeStyle(e):(a[e=e.camelCase()]?a[e].call(r,o,t):V(o,e,t),r))},css:function(e,t,n){var i=this;if(a(e)){if(t===r)return i.getStyle(e);n===r?i.setStyle(e,t):i.css(e)===t&&i.css(e,n)}else if(s(e)){if(t===r){var o={};return h(e,function(e,t){o[t]=i.css(t)}),o}h(e,function(e,n){i.setStyle(n,t)})}else u(e)&&h(e,function(e,t){i.setStyle(e,t)});return i},attr:m(function(e,t){var o=this,a=o.dom,u=B.attrHook;if(s(e)){if(t===r){var c={};return h(e,function(e,t){c[t]=o.attr(t)}),c}h(e,function(e,n){o.attr(n,t)})}else{if(t==r){var l;return l=u[e]?u[e].call(o,a):a.getAttribute(e),l===r?n:l}i(t)&&(t=t.call(o,o.attr(e))),e in u?u[e].call(o,a,t):a.setAttribute(e,t)}},{each:[u]}),removeAttr:m(function(e){this.dom.removeAttribute(e)},{each:[s,a]}),removeStyle:m(function(e){var t=this,n=t.dom.style;return e===r?n.cssText="":(n.removeAttribute?n.removeAttribute(e):n.removeProperty(e.unCamelCase()),void 0)},{each:[s,a]}),on:m(function(e,t,r){var s=this,c=s.dom,l=c[_],f=n,d=n,h=P(c),p=n;if(i(t)&&(o(r)&&(p=r),r=t,t=n),a(t)&&(f=D.parseSelector(t)),!i(r))return s;u(l)||(l=c[_]={});var m=B.eventFix,v=m.mouseEvents.has(e),g=m.keyEvents.has(e),b=function(t){(t=t||h.event||n)!==n&&(m(t),v?m.mouse(t):g&&m.keyboard(t),t.name=e),s.emit(e,t,!1,!0,d)};if(!l[e]){l[e]=[];var y=e,k=!1;if(e in B.eventHook){var w=B.eventHook[e];d=w.check,y=w.name,k=w.useCapture}Q(c,l[e].eventName=y,l[e].eventFunc=b,k)}var x={callback:r,selector:f,selectorText:t||n};p!==n?l[e].insert(x,p):l[e].push(x)},{each:[s,u,a]}),off:m(function(e,t,o){function u(){var t=l[e].eventName,n=l[e].eventFunc;K(c,t,n),delete l[e]}var s=this,c=s.dom,l=c[_];if(l)if(i(t)&&(o=t,t=n),e===r)h(l,function(e){s.off(e)});else if(l[e])if(o!==r||a(t)){for(var f=l[e],d=f.length,p=d-1;p>=0;p--){var m=f[p];if(m===r);else if(t===n){if(o===r||m.callback===o){f.splice(p,1),d--;break}}else if(!(o!==r&&o!==m.callback||t!==m.selectorText&&t!==m.selector)){f.splice(p,1),d--;break}}0>=d&&u()}else l[e].clear(),u();else;},{each:[s,u,a]}),emit:m(function(e,t,n,r,o){var a,s=this,c=s.dom,l=n?"apply":"call";if(isBool(e))return s.emitTurn=e,s;if(!c[_]||!(a=c[_][e])||s.emitTurn===!1)return s;for(var f=function(e,t){var n=e.target;do if(D.matchSelector(n,t,c))return n;while(n=n.parentNode);return!1},d=(function(){"stopPropagation"in t&&(t.stopPropagation(),t.preventDefault())}),h=0,p=a.length;p>h;){var m=a[h],v=c;if(!u(m)||r===!0&&u(m.selector)&&!(v=f(t,m.selector))||i(o)&&o.call(v,t)===!1)h++;else{if(m.callback[l](v===c?s:B(v),t)===!1&&d(),t&&t._stopFire===!0){delete t._stopFire;break}m===a[h]&&h++}}return s},{each:[s,a]}),once:y.prototype.once,eventAssign:y.prototype.eventAssign,delegate:function(e,t,n){return this.on(e,t,n)},undelegate:function(e,t,n){return this.off(e,t,n)},set:function(e){var t=this;if(u(e))for(var n in e)t[n](e[n]);return t},keyboard:function(e){function r(e){var t=l.keyCode;return t===n?!0:i(t)?t.call(s,e):e.which===l.keyCode}function o(e){c=0,m(l.press).call(s,e)}function a(e){return 1==c&&o(e),l.classStatus&&s.removeClass("press"),m(l.up).call(s,e)
}function u(e){return r(e)?(l.classStatus&&s.addClass("press"),c=1,B(t).once("keyup",a),m(l.down).call(s,e)):void 0}var s=this,c=0,l=p({down:n,up:n,press:n,keyCode:n,classStatus:!1},e);return s.on("keydown",u)},focussing:function(e,t,i){var o=this,a=n,u=!1,s=i===r?function(){var e=o.document(),t=e?e.activeElement:e;return o.is(t)||o.contains(t)}:i,c=function(n){m((s=u)?e:t).call(o,n)};return o.on("focusin focusout",function(e){u="focusin"===e.name,a==n?c(e):clearTimeout(a),a=setTimeout(function(){s!==u&&(c(e),a=n)},0)})},mouse:function(e,t){function r(e){d=S({delay:f.delay,interval:f.interval,progress:f.longpress.bind(l,e)})}function o(e){return d!==n&&(d.stop(),d=n),h&&l.removeClass("press"),f.unselect&&l.unselect(!1),i(f.up)?f.up.call(l,e):void 0}function a(e){return B(c).once("mouseup",o),h&&1===e.which&&l.addClass("press"),f.unselect&&l.unselect(!0),i(f.longpress)&&r(e),i(f.down)?f.down.call(l,e):void 0}function u(e){return l.off("mousedown",a),d!==n&&(d.stop(),d=n),h&&l.removeClass("hover"),i(f.click)&&l.off("click",f.click),i(f.dblclick)&&l.off("dblclick",f.dblclick),i(f.leave)?f.leave.call(l,e):void 0}function s(e){return l.on("mousedown",a).once("mouseleave",u),h&&l.addClass("hover"),i(f.click)&&l.on("click",f.click),i(f.dblclick)&&l.on("dblclick",f.dblclick),i(f.enter)?f.enter.call(l,e):void 0}var l=this,f=p({enter:n,leave:n,down:n,up:n,click:n,dblclick:n,unselect:!1,longpress:n,classStatus:!0,auto:!0,delay:600,interval:100},i(e)?e():e),d=n,h=f.classStatus;return f.auto?l.on("mouseenter",s):s.call(l,t),l},sizeControl:function(e,t,i){var o=this,u=0;if(a(t))u+=o.css(t);else if(s(t))for(var c=0,l=t.length;l>c;c++)u+=o.css(t[c]);return i===r?e===n?u:o.css(e)+u:(o.dom.style[e]=i-u+"px",o)},widget:function(e,t){var i=this,o=i.dom;return e===r?o[x]||n:(f(o[x])&&o[x].remove(),f(e)?o[x]=e:u(e)&&e.ui?o[x]=j(e.ui,e):a(e)&&u(t)&&(o[x]=j(e,t)),o[x]&&o[x].renderTo(i),i)},animate:function(e,t,n){function c(e){var r=u(t)?t.method||"css":"css",o={},a=new z.keyframes(t).rules(e).on({pause:function(){o={}},progress:function(e){for(var t in e){var n=e[t];o[t]!==n&&d["css"===r?"setStyle":r](t,o[t]=n)}},complete:function(){var e=f._("indexOf",a);-1!==e&&f._("remove",e),++g==v&&i(n)&&n.call(d,v,a)}});a.defaultProperty(h(a._property,function(e,t){return"color"===t.type&&"background"===e&&(e+="-color"),d[r](e)},!0)).start(),f._(a),v++}var l,f,d=this,p=d.dom,m="keyframes",v=0,g=0;if(l=b[2](p,C),f=l[m]?l[m]:l[m]=new z.keyframes.united,e===r)return f;if(t===r&&a(e)){switch(e){case"start":case"pause":case"stop":f[e]()}return d}return o(t)&&(t={duration:t}),f.remove(),f._("clear"),s(e)?h(e,function(e,t){c(t)}):c(e),f},animation:function(){}};h({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);it[e]=function(i){var o=this,a=o.dom,u=P(a,!0);return i===r?u?t in u?u[t]:u.document.documentElement[e]:a[e]:(u?u.scrollTo(n?B(u).scrollLeft():i,n?i:B(u).scrollTop()):a[e]=i,o)}}),h("scrollWidth scrollHeight offsetWidth clientWidth offsetHeight clientHeight offsetLeft offsetTop tagName nodeName type className readyState",function(e,t){it[t]=function(e){var n=this,i=n.dom;return e===r?i[t]:(i[t]=e,n)}}),h("opacity outerWidth outerHeight zIndex cursor color width height",function(e,t){it[t]=function(e){return this.css(t,e)}}),h("id name",function(e,t){it[t]=function(e){return this.attr(t,e)}}),h("submit focus blur",function(e,t){it[t]=function(){var e=this,n=e,i=e.dom;if(t in i){try{n=i[t].apply(i,arguments)}catch(o){}n===r&&(n=e)}return n}});var ot=function(e){var t=e.target.nodeName;return"INPUT"!==t&&"TEXTAREA"!==t?!1:void 0};return h({unselect:"Std_unselect",wordwrap:"Std_wordwrap",wordnowrap:"Std_wordnowrap"},function(e,t){it[e]=function(n){return"unselect"==e&&this[n?"on":"off"]("selectstart",ot),this.toggleClass(t,n)}}),{f:F,j:it,k:function(e,t){var i,o=this,u=o instanceof B;return u===!1?null===(i=X(e,t))?n:new B(i,!1):(t===!1?o.dom=e:(a(e)?s(i=B.loadHTML(H.html(e)))&&(o.dom=i[0]):o.dom=G(X(e)),t!==r&&t!==n&&o.appendTo(t)),void 0)}}}),B.united=g(function(){var e=W.unite(B);return{f:{extend:m(function(e,t){this.prototype[e]=t},{each:[u,s]})},k:function(t,i){var o=this,u=o instanceof B.united,c=new e;if(a(t)){var l;l=u?B.loadHTML(H.html(t)):B.query(t,i),h(l,function(e,t){c._(B(t))})}else if(s(t))h(t,function(e,t){(t=B(t))!==n&&c._(u?t.clone():t)});else if(t!==r){var f=B.get(t);null!==f&&c._(B(u?B.clone(f):f))}return c}}}),B.eventFix=g(function(){var e="srcElement",i="relatedTarget",o="fromElement",a="stopPropagation",u="preventDefault";return{f:{keyEvents:"keydown keypress keyup".split(" "),mouseEvents:"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave click dblclick contextmenu".split(" "),mouse:function(e){var n=e.button;if(e.which==r&&n!=r&&(e.which=1&n?1:2&n?3:4&n?2:0),e.pageX===r&&e.clientX!==r){var i=e.target.ownerDocument||t,o=i.documentElement,a=i.body;e.pageX=e.clientX+(o&&o.scrollLeft||a&&a.scrollLeft||0)-(o&&o.clientLeft||a&&a.clientLeft||0),e.pageY=e.clientY+(o&&o.scrollTop||a&&a.scrollTop||0)-(o&&o.clientTop||a&&a.clientTop||0)}},keyboard:function(e){e.which==n&&(e.which=e.charCode!=n?e.charCode:e.keyCode)}},k:function(t){var n=t.target||t[e];!t.target&&t[e]&&(n=t.target=t[e]),n&&3===n.nodeType&&(t.target=n.parentNode),!t[i]&&t[o]&&(t[i]=t[o]===n?t.toElement:t[o]),t.metaKey===r&&(t.metaKey=!1),t[a]||(t[a]=function(){t.cancelBubble=!0}),t[u]||(t[u]=function(){t.returnValue=!1}),t.stopFire=function(){this._stopFire=!0}}}}),B.cssHook=function(){var e=/alpha\([^)]*\)/i,t=/opacity\s*=\s*([^)]*)/,n="opacity",i="filter",u="backgroundPosition",s=W.init.css,c=B.getStyle,f=B.setStyle,d={width:["paddingRight","paddingLeft","borderRightWidth","borderLeftWidth"],height:["paddingTop","paddingBottom","borderTopWidth","borderBottomWidth"]},p={"float":function(e,t){var n=e.style,i=s.cssFloat?"cssFloat":"styleFloat";return t===r?n[i]||c(e,"float")||c(e,i):(n[i]=t,void 0)},outerWidth:function(e,t){return this.sizeControl("width",d.width,t)},outerHeight:function(e,t){return this.sizeControl("height",d.height,t)},innerWidth:function(e,t){return this.sizeControl("width",["paddingRight","paddingLeft"],t)},innerHeight:function(e,t){return this.sizeControl("height",["paddingTop","paddingBottom"],t)},opacity:function(o,a){var u=o.style,l=s[n],f=o.currentStyle;if(a===r)return l?c(o,n):t.test((f?f[i]:u[i])||"")?.01*float(RegExp.$1)+"":"1";if(l)u[n]=a;else{var d=H.hooks[n](a).value,h=f&&f[i]||u.filter||"";if(u.zoom=1,(d>=1||""===d)&&""===h.replace(e,"").trim()&&u.removeAttribute&&(u.removeAttribute(i),""===d||f&&!f[i]))return;u.filter=e.test(h)?h.replace(e,d):h+" "+d}}};if(p[u]=function(e,t){return t===r?(l(t=c(e,u))&&(t=c(e,u+"X")+" "+c(e,u+"Y")),t):(f(e,u,t),void 0)},h("X Y",function(e,t){var n=u+t;p[n]=function(t,i){if(i===r){if(l(i=c(t,n))){var o=c(t,u);return o==r?0:o.split(" ")[e]}return i}f(t,n,i)}}),!s.inlineBlock){var m="inline-block";p.display=function(e,t){var n=e.style;return t===r?(t=c(e,"display"),"inline"===t&&n.zoom?m:t):(t===m?(n.zoom=1,n.display="inline"):n.display=t,void 0)}}return h("width height",function(e,t){var n=t.capitalize();p[t]=function(i,u){if(u===r){if(B.isWindow(i))return i.document.documentElement["client"+n];if(9===i.nodeType){var s=i.documentElement;return Math.max(i.body["scroll"+n],s["scroll"+n],i.body["offset"+n],s["offset"+n],s["client"+n])}var l=c(i,t);if(a(l)&&("auto"===l||"%"===l.right(1))){var h=0==e?i.offsetWidth:i.offsetHeight;return o(h)&&(l=h-this.sizeControl(null,d[t])),l||0}return float(l||0)||0}f(i,t,o(u)?u+"px":u)}}),h("left top right bottom margin marginTop marginLeft marginRight marginBottom lineHeight borderRightWidth borderLeftWidth borderTopWidth borderBottomWidth padding paddingLeft paddingRight paddingTop paddingBottom",function(e,t){p[t]=function(e,n){return n===r?float(c(e,t)||0)||0:(o(n)&&(n+="px"),f(e,t,n),void 0)},B.extend(t,function(e){var n=this;return e===r?n.css(t):n.css(t,e)})}),p}(),B.attrHook=function(){var e={};return h({id:"id","class":"className",href:"href",name:"name",type:"type"},function(t,n){e[t]=function(e,t){return t===r?e[n]:(e[n]=t,void 0)}}),e.style=function(e,t){return t===r?e.style.cssText:(e.style.cssText=t,void 0)},e}(),B.eventHook=function(){var t={},n=B(e),r=0,i=0,o=!1;return W.init.on.focusin||h({focusin:"focus",focusout:"blur"},function(e,n){t[e]={name:n,useCapture:!0,check:function(){return!0}}}),h({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,n){t[e]={name:n,check:function(e){var t=e.relatedTarget;return!t||!B.contains(t,this)}}}),t.resize={name:"resize",check:function(){return n.is(this)?o:!0}},B.addListener(n.dom,"resize",function(){var e=n.width(),t=n.height();e===r&&t===i?o=!1:(o=!0,r=e,i=t)}),t}(),B.selection=g(function(){function e(e){return B.document(e).selection||B.window(e).getSelection()||n}function i(e,t){return s(e,"html",t)}function a(e,t){return s(e,g,t)}function u(t,n){var i=e(t);return n===r?y in i?i[y]():i.getRangeAt(0):(b in n?n[b]():(i.removeAllRanges(),i.addRange(n)),void 0)}function s(e,t,n){var r="",i=t===g,a=n||a();return r=(i?g:"htmlText")in a?a[i?g:"htmlText"]:o(e[x])?e.value.substring(e[x],e.selectionEnd):newDiv().append(a.cloneContents())[i?g:"html"]()}function c(e){if(o(e[x]))return e[x];if(t.selection){var n=u(e);return n.moveStart("character",-e.value.length),n.text.length}}function l(e){if(t.selection){var n=u(e),r=n.duplicate();return r.moveToElementText(e),r.setEndPoint("EndToEnd",n),r.text.length-n.text.length}}function f(){}function d(){}function h(e,t){var n=e.nodeName.toLowerCase();if("input"===n||"textarea"===n){if(t===r)return c(e);f(e,t)}else{if(t===r)return l(e);d(e,t)}}function p(e,t,i){var o=n;t===r?e[b]():_ in e?(o=e[_](),o.collapse(),o.moveEnd(k,i),o.moveStart(k,t),o[b]()):w in e&&(e.focus(),e[w](t,i))}function m(e){var t=B.window(e),r=B.document(e),i=r.body,o=n;if(i&&i[_])o=i[_](),o.moveToElementText(e),o[b]();else if(t.getSelection){var a=t.getSelection();o=r[y](),o.selectNodeContents(e),a.removeAllRanges(),a.addRange(o)}}function v(e,t,n){b in e?p(e,t,n):m(e,t,n)}var g="text",b="select",y="createRange",k="character",w="setSelectionRange",x="selectionStart",_="createTextRange";return B.extend({selection:function(){return e(this.dom)},selectionRange:function(){return u(this.dom)},selectedHTML:function(e){return i(this.dom,e)},selectedText:function(e){return a(this.dom,e)},select:function(e,t){return v(this.dom,e,t),this},cursorPos:function(e){return e===r?h(this.dom):(h(this.dom,e),this)}}),{"public":{select:function(e,t){v(this._e,e,t)},selectedHTML:function(e){i(this._e,e)},selectedText:function(e){a(this._e,e)},cursorPos:function(e){return h(this._e,e)}},main:function(e){this._e=B.get(e)}}}),P=W.sml=g({f:{load:function(e){return u(e)?(e.data&&h(e.data.indexes.SCRIPT,function(e,t){B.behaviorScript(t)}),this):this},parse:function(e){var t={},n=t.indexes={};return h(newDiv().append(B.fragment(e,!1)).find("*"),function(e,t){var r=t.nodeName();r in n||(n[r]=[]),n[r].push(t.dom)}),t}},k:function(e){var t=this;t instanceof P?this.data=P.parse(e):P.load(new P(e))}}),j=W.ui=W.module({f:{status:{zIndex:1,index:0,resize:0,drag:0},rules:{},modules:{},exist:function(e){return e in j.modules},action:function(e,t){var n=g.property(j.modules[e],"action");return t===r?n:n[t]},build:function(e){var t=j.rules[e];return t&&t.build()||n},createByElement:function(e,t){var n=j.action(e),r=t.attr("std-option"),o=t.attr("std-option-name"),u="content",s="childNodes";a(r)&&(r=r.toObject()),a(o)&&(r=F.get(o,r));var c=j(e,r),l=function(e,n){a(e)?c[e](n):i(e)&&e.call(c,t,n)};return s in n?l(n[s],t.children()):u in n&&l(n[u],t.html().trim()),t.removeAttr("std-ui"),c.renderTo(t.clear())},create:function(e,t){if(a(e)){var r=j.modules[e];return r?new r(t||{}):!1}return u(e)?h(e,function(e,t){return u(t)&&t.ui?j(t.ui,t):a(t)?j(t,{}):void 0},!0):n},module:function(e,t){if(a(e)){if(t===r)return j.modules[e]||n}else t=e;a(e)&&i(t)&&(t=t.call(W,j)),t=p({},t);var o,u=t.nodeName||"div",s=newDom(u).attr("tabindex",1),c=[],l="prototype",f="objectName";return t.__constructor__=function(t){var i,o=this,a=o.init_opts(t);switch(a.tabIndex){case 1:i=s.clone();break;case n:case r:i=newDom(u);break;default:i=newDom(u).attr("tabindex",a.tabIndex)}i.ui=o,o[0]=i,(o[f]=a[f])||(o[f]=e+ ++j.status.index),"on"in a&&o.on(a.on),o.emit("create");for(var l=c.length-1;l>=0&&c[l].call(o,o,a,i)!==!1;l--);a.renderTo&&o.renderTo(a.renderTo)},(o=g(e,t,j))===n?o:(o[l].ui=e,o[l].emit=y[l].emit,c=g.property(o,"main",!0),o)}},k:function(e,t){return t===r&&a(e)?j.modules[e]||n:j.create(e,t)}}),j.rule=W.module(function(){var e="content",t="children",o="selector";return{i:{selector:null,buildData:null,compileData:null},f:{append:m(function(e,t){a(t)&&(t=D.parse(t,!1)),u(t)&&(j.rules[e]=new j.rule(t))},{each:[s,u]}),remove:m(function(e){a(e)&&delete j.data[e]},{each:[s]})},h:{execAction:function(e,t,n){return a(t)?e[t](n):i(t)&&t.call(e,n),this},pushInstance:function(e,t,n){var i=this,o=t["*"],a=function(){var r=i.createUI(t,n);r&&e.push(r)};if(o!==r){o=int(o);for(var u=0;o>u;u++)a()}else a();return i},compile2:function(e){for(var t=this,n=[],r=!1,i=e.length-1;i>=0;i--){var a=e[i];switch(r===!0&&(r=!(a.items=Array.from(n).reverse()),n.clear()),e[i][o]?(n.mergeArray(t.compile(a[o])),delete a[o]):n.push(a),a["<"]){case">":case" ":r=!0}}return n}},j:{createUI:function(i,o){var a=this,u=i.tag,s={};if("*"===u&&!l(i.content))return i.content;if(!j.exist(u))return n;h(i["."],function(e,t){p(s,F.get(t))}),h(i.attr,function(e,t){"="===t.operator&&(s[t.name]=t.value)});var c=i["#"],f=j.action(u),d=j(u,s);if(!d)return n;if(e in f&&a.execAction(d,f[e],i.content),t in f&&!l(i.items)){var m=[];h(i.items,function(e,t){a.pushInstance(m,t,o)}),a.execAction(d,f[t],m)}return h(i[":"],function(e,t){d[e].apply(d,t)}),c!==r&&(o[c]=d),d},compile:function(e){var t=this,n=[];e===r&&(e=t._selector);for(var i=0,o=e.length;o>i;i++){var a=t.compile2(e[i]);if(!l(a))for(var u=0,s=a.length;s>u;u++)n.push(a[u])}return t._compileData=n},build:function(e){var t=this,n=e||t._selector,r={},i=[];return t._compileData||t.compile(n),h(t._compileData,function(e,n){t.pushInstance(i,n,r)}),{data:i,dataMap:r}}},k:function(e){var t=this;return t instanceof j.rule?(a(e)&&(e=D.parse(e,!1)),u(e)&&(t._selector=e),void 0):new j.rule(e).build()}}}),j.module("widget",function(){var t="boxSize",s="renderState",l="contentType",f="__StdEvents__";return{a:"events",c:"create resize visible enable load remove beforeRender render",e:{level:2,parent:n,renderTo:"",objectName:"",defaultClass:"",className:"",tabIndex:1,left:n,top:n,width:"auto",height:"auto",minWidth:3,minHeight:3,maxWidth:n,maxHeight:n,padding:n,enable:!0,visible:!0,animate:!1,initSize:!0,plugins:n,validator:"",invalidText:"invalid",cache:!0,contentType:"",value:n,data:n,url:n,html:n,iframe:n,layout:n,fixedLayoutWidth:!1,fixedLayoutHeight:!1},action:{content:"html",children:function(e){this.layout(j("VBoxLayout",{items:e}))}},h:{init_boxSize:function(){var e=this,r=e.opts,i=e.__Std__,o=r.defaultClass+r.className;if(i[t]||(i[t]={}),e[t]=i[t][o]?i[t][o]:i[t][o]=e[0][t](),r.padding!==n){var a={},u=r.padding;for(var s in e[t])a[s]="width"!==s||"height"!==s?e[t][s]+2*u:e[t][s]+u;e[t]=a}return e},init_content:function(){var e=this,t=e.opts,n=t[l];return""===n?t.html?e.html(t.html):t.url?e.url(t.url):t.iframe?e.iframe(t.iframe):t.layout&&e.layout(t.layout):a(n)&&e[n](t[n]),e}},j:{data:0,boxSize:0,renderState:!1,valid:function(){return W.is(this.opts.validator,this.value())},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},hasClass:function(e){return this[0].hasClass(e)},addClass:function(e){return this[0].addClass(e),this},removeClass:function(e){return this[0].removeClass(e),this},toggleClass:function(e,t){return this[0].toggleClass(e,t),this},className:function(e){return this.opt("className",e,function(){this[0].className(this.opts.defaultClass+" "+e)})},padding:function(e){return this.opt("padding",e,function(){this[0].css("padding",e+"px")})},minWidth:function(e){var t=this;return t.opt("minWidth",e,function(){o(e)&&t.width()<e&&t.width(e)})},minHeight:function(e){var t=this;return t.opt("minHeight",e,function(){o(e)&&t.height()<e&&t.height(e)})},maxWidth:function(e){var t=this;return t.opt("maxWidth",e,function(){o(e)&&t.width()>e&&t.width(e)})},maxHeight:function(e){var t=this;return t.opt("maxHeight",e,function(){o(e)&&t.height()>e&&t.height(e)})},enable:function(e){return this.opt("enable",e,function(){this.toggleClass("disabled",!e).emit("enable",e)})},disable:function(e){return e===r?!this.enable():this.enable(!e)},visible:function(e){var t=this,n=t.opts;return e===r?t[s]?t[0].visible():!1:(t[0].visible(n.visible=e),t.emit("visible",e))},focus:function(e,t){var n=this;return o(e)?setTimeout(function(){n[0].focus(),i(t)&&t.call(n)},e):n[0].focus(),n},blur:function(e,t){var n=this;return o(e)?setTimeout(function(){n[0].blur(),i(t)&&t.call(n)},e):n[0].blur(),n},beforeRender:function(){return this.emit("beforeRender")},appendTo:function(e){return this[0].appendTo(e),this},html:function(e){var t=this,n=t.opts;return e===r?t[0].html():(n[l]="html",t.removeLayout(),t[0].html(n.html=e),t.emit("load",e))},iframe:function(e,t){var n=this;return n.opt("iframe",e,function(){var r=newDom("iframe").attr({src:e,frameBorder:"0"}).css({"float":"left",border:0,width:"100%",height:"100%"}).on("load",function(){n.emit("load",r),m(t).call(n,r)});n.removeLayout(),n.opts[l]="iframe",n[0].clear().append(r)})},url:function(e,t){var n=this,r=n.opts;return n.opt("url",e,function(){r[l]="url",A({url:e,cache:r.cache,success:function(e){n.removeLayout(),n[0].html(e),n.emit("load",e),m(t).call(n,e)}})})},updateLayout:function(){var e=this,t=e.opts;return d(t.layout)&&t.layout.update(),e},layout:function(e){var t=this,n=t.opts;return e===r?n.layout:(d(n.layout)&&t[s]&&t.removeLayout(),e&&c(e)&&e.ui&&(e=j(e.ui,e)),d(e)?(n.layout=e,n[l]="layout",t[s]?(t[0].clear().css("position","static","relative"),t.level(e.level()).on({resize:t.updateLayout,remove:t.removeLayout}),t.emit("load",e.parent(t).render().update())):t):t)},plugin:m(function(e,t){var n=this,i=b[2](n,"plugins");return a(e)&&t===r?i[e]||null:(e in i&&(i[e].remove(),delete i[e]),a(e)&&!i[e]&&W.plugin.exist(e)&&(i[e]=new W.plugin.modules[e](n,t),t.on&&i[e].on(t.on)),void 0)},{each:[u]}),on:m(function(e,t){var n=this;if(e===r||!i(t),n[f]||(n[f]={}),n.__Std__.events.has(e)){var o=n[f];o[e]||(o[e]=[]),o[e].push(t)}else n[0].on(e,t);return n},{each:[u,a]}),off:m(function(e,t){var n=this;if(e===r||!i(t),n.__Std__.events.has(e)){var o=n[f];if(!o||!o[e])return n;t===r?o[e].clear():h(o[e],function(n,r){return r===t?(o[e].remove(n),!1):void 0})}else n[0].off(e,t)},{each:[u,a]}),rect:function(e,t,n,i){var o=this;return e===r?{top:o[0].css("top"),left:o[0].css("left"),width:o.width(),height:o.height()}:(o[0].css({top:t,left:e}),n!==r&&o.width(n),i!==r&&o.height(i),o)},move:function(t,i){var o=this,a=o[0],u=n,s=function(){return u!==n?u:(u=a.offsetParent(),(!u||u.contains("body"))&&(u=B(e)),u)},c=function(e){return e.offsetWidth()||e.width()},l=function(e){return e.offsetHeight()||e.height()};if(i===r){if("cent"===t.substr(0,4)){var f=s(),d=(c(f)-o.width())/2,h=(l(f)-o.height())/2;"central"==t&&(h-=.25*h),a.css({left:d,top:h})}}else a.css({left:t,top:i});return o},left:function(e){var t=this;return e===r?t[0].css("left"):(t[0].css("left",e),t)},top:function(e){var t=this;return e===r?t[0].css("top"):(t[0].css("top",e),t)},opacity:function(e){var t=this;return e===r?t[0].opacity():(t[0].opacity(e),t)},renderTo:function(e){var t=this;return t.opt("renderTo",e,function(){t.appendTo(e),t[s]||t.render()})},size:function(e,t){var n=this;return e===r?{width:n.width(),height:n.height()}:(u(e)&&t===r?n.size(e.width,e.height):n.width(e).height(t),n)},clientWidth:function(e){var n=this,i=n.opts,a=n[0],u=n[t];return e===r?o(i.width)?i.width-u.borderLeftWidth-u.borderRightWidth:a.clientWidth():(o(e)&&(i.width=e+u.borderLeftWidth+u.borderRightWidth,a.width(e-u.paddingLeft-u.paddingRight)),n.emit("resize",e))},clientHeight:function(e){var n=this,i=n.opts,a=n[t];return e===r?o(i.height)?i.height-a.borderTopWidth-a.borderBottomWidth:n[0].clientHeight():(o(e)&&(i.height=e-a.borderTopWidth-a.borderBottomWidth,n[0].height(e-a.paddingTop-a.paddingBottom)),n.emit("resize",e))},width:function(e){var n=this,i=n.opts,a=n[t];if(e===r)return o(i.width)?i.width:n[0].width()+a.width;if(!n[s])return i.width=e,n;if(o(e)){var u=i.minWidth,c=i.maxWidth;u&&u>e&&(e=u),c&&e>c&&(e=c),n[0].width(e-a.width)}return n.emit("resize",i.width=e)},height:function(e){var n=this,i=n.opts,a=n[t];if(e===r)return o(i.height)?i.height:n[0].height()+a.height;if(!n[s])return i.height=e,n;if(o(e)){var u=i.minHeight,c=i.maxHeight;u&&u>e&&(e=u),c&&e>c&&(e=c),n[0].height(e-a.height)}return n.emit("resize",i.height=e)},render:function(){var e=this,t=e.opts;return e[s]?e:(e.beforeRender(t),e[s]=!0,e.init_boxSize(),t.initSize&&(e.width(t.width),e.height(t.height)),t.left!==n&&e.left(t.left),t.top!==n&&e.top(t.top),t.visible||e.visible(!1),t.enable||e.enable(!1),t.plugins&&e.plugin(t.plugins),t[l]!==n&&e.init_content(),e.emit("render"))},removeLayout:function(){var e=this,t=e.opts;d(t.layout)&&t.layout[s]&&(e.off({resize:e.updateLayout,remove:e.removeLayout}),t.layout.remove(),t.layout=n)},removePlugin:function(e){var t=this,n=t.plugins;return e===r?h(n,function(e,t){i(t.remove)&&t.remove()}):e in n&&n[e].remove(),t},remove:function(e){var t=this;return e===r&&(t.removePlugin(),t[0].remove(),t.emit("remove"),t[s]=-1),t}},k:function(e,t,r){e[0].className("StdUI "+t.defaultClass+" "+t.className),t.padding!==n&&e.padding(t.padding),t.css&&r.css(t.css),t.appendTo?e.appendTo(t.appendTo):t.prependTo&&e.prependTo(t.prependTo)},l:function(e,t){h("parent level value validator invalidText",function(e,n){t[n]=function(e){return this.opt(n,e)}})}}}),W.ui.module("sep",{b:"widget",e:{level:3,defaultClass:"StdUI_Sep",tabIndex:n}}),W.ui.module("locker",{b:"widget",e:{level:5,opacity:.4,background:"#000000",cursor:"default",position:"absolute",visible:!1,tabIndex:n},g:{render:function(){this.opts.visible&&this._resize(),this.on("contextmenu",m(!1))},visible:function(e){e===!0&&this.resize()},remove:function(){B(e).off("resize",this._resize)}},j:{resize:function(){var t=this,n=t[0].offsetParent();return t.visible()?(n.contains("body")&&(n=B(e)),t[0].css({left:0,top:0,width:n.offsetWidth()||n.width(),height:n.offsetHeight()||n.height()}),t):t},cursor:function(e){return this.opt("cursor",e,function(){this[0].css("cursor",e)})}},k:function(t,n,r){r.css({opacity:n.opacity,background:n.background,cursor:n.cursor,overflow:"hidden",position:n.position,zIndex:++j.status.zIndex}),B(e).on("resize",t._resize=function(){t.resize.call(t)})}}),j.module("stretch",{b:"widget",e:{level:5,tabIndex:n}}),j.module("spacing",{b:"widget",e:{level:1,minHeight:1,minWidth:1,height:2,width:2,tabIndex:n}}),j.module("splitter",{b:"widget",e:{level:1,initSize:!1,tabIndex:n}}),j.module("layoutItem",{b:"widget",e:{item:0,level:1,type:"widget",direction:"horizontal",initSize:!1,tabIndex:n},g:{render:function(){var e=this,t=e.opts,n=t.type,i=t.item;if(i!=r){if(i.render(),"widget"==n)t.width=i.width(),t.height=i.height(),t.minWidth=i.minWidth(),t.minHeight=i.minHeight();else if("layout"==n){var o=i.sizeInfo();t.width=o.width,t.height=o.height,t.minWidth=o.minWidth,t.minHeight=o.minHeight}e[0].cssText("position:absolute;width:"+t.width+"px;height:"+t.height+"px")}},width:function(e){var t=this.opts,n=t.type,r=t.item;"widget"==n?r.width(e):"layout"==n&&r.update()},height:function(e){var t=this.opts,n=t.type,r=t.item;"widget"==n?r.height(e):"layout"==n&&r.update()},remove:function(){var e=this.opts.item;e&&e.remove()}},h:{init_boxSize:function(){this.boxSize={width:0,height:0,paddingLeft:0,paddingTop:0}}},j:{type:function(e){return this.opt("type",e)},fixedLayoutWidth:function(){return this.opts.item.opts.fixedLayoutWidth},fixedLayoutHeight:function(){return this.opts.item.opts.fixedLayoutHeight},item:function(e){var t=this,i=t.opts,o="";if(e===r)return i.item;if(f(e))o="widget",e.appendTo(t[0]);else if(d(e))o="layout";else if(u(e)&&e.ui){if(!(e=j(e.ui,e)))return n;d(e)?o="layout":(o="widget",e.appendTo(t[0]))}return i.type=o,i.level=e.level(),i.item=e,e.parent(t),t}},k:function(e,t){t.item&&e.item(t.item)}}),j.module("layout",{e:{level:2,spacing:4,parent:n,items:n,fixedLayoutWidth:!1,fixedLayoutHeight:!1},action:{children:"append"},i:{timer:n},h:{direction:"vertical",resetLevel:function(e){var t=this;return e.level()>t.level()&&t.level(e.level()),t}},j:{renderState:!1,refresh:function(){var e=this;return h(e.items,function(t,n){e.resetLevel(n)}),e},parentWidget:function(){var e,t=this,r=t.parent();return r?f(r)?e=r:d(r)&&(e=r.parentWidget()):e=n,e},insert:m(function(e,t){var n=this,r=j("layoutItem",{parent:n,direction:n.direction,item:e});n.resetLevel(r),n.items.insert(r,t),n.renderState&&r.insertBefore(n.items[t])},{each:[s]}),append:m(function(e){var t=this,n=j("layoutItem",{parent:t,direction:t.direction,item:e});t.resetLevel(n),t.items.push(n),t.renderState&&n.renderTo(t.parentWidget())},{each:[s]}),sizeInfo:function(){var e=this,t=0,n=0,r=0,i=0,o=e.items.length,a=e.direction;if("horizontal"==a)for(var u=0;o>u;u++){var s=e.items[u];t+=s.width(),s.height()>n&&(n=s.height()),1==s.level()||s.fixedLayoutWidth()?(r+=s.width(),s.height()>i&&(i+=s.height())):(r+=s.minWidth(),s.minHeight()>i&&(i+=s.minHeight())),u>0&&(t+=e.spacing(),r+=e.spacing())}else if("vertical"==a)for(var u=0;o>u;u++){var s=e.items[u],c=s.width(),l=s.height(),f=0,d=0;1==s.level()||s.fixedLayoutHeight()?(f=c,d=l):(f=s.minWidth(),d=s.minHeight()),c>t&&(t=c),f>r&&(r=f),d>l?i+=d:n+=l,u>0&&(n+=e.spacing(),i+=e.spacing())}return{width:t,height:n,minWidth:r,minHeight:i}},parentSize:function(){var e=this,t=0,n=0,r=0,i=0,o=e.parent();if(f(o)){var a=o.boxSize;r=o.width(),i=o.height(),a&&(t=a.paddingLeft,n=a.paddingTop,r-=a.width,i-=a.height)}return{width:r,height:i,left:t,top:n}},render:function(){var e=this,t=e.parentWidget();return t&&(h(e.items,function(e,n){n.renderTo(t)}),e.renderState=!0),e},updateLayout:function(){var e=this,t=e.parent();return t&&e.renderState?(t.removeClass("Std_Hidden"),e):!1},update:function(){var e=this,t=e.parent();return t&&t.addClass("Std_Hidden"),e._timer!=n&&(e._timer=clearTimeout(e._timer)),e._timer=setTimeout(function(){e.updateLayout(),e._timer=n},0),e},clear:function(){var e=this,t=e.items;return h(t,function(e,t){t.remove()}),t.clear(),e},remove:function(e){var t=this;if(e===r)t[0].remove(),t.clear().emit("remove");else{var i=t.items;o(e)?(i[e].remove(),i[e]=n,i.remove(e)):u(e)&&h(i,function(e,t){return t.remove(),i.remove(e),!0}),t.update()}return t}},k:function(e,t){e.items=[],s(t.items)&&e.append(t.items)},l:function(e,t){h("parent level spacing fixedLayoutWidth fixedLayoutHeight",function(e,n){t[n]=function(e){return this.opt(n,e)}})}}),j.module("HBoxLayout",{b:"layout",g:{render:function(){var e=B(this.parent());e&&e.css("overflow","hidden")},updateLayout:function(){for(var e=this,t=e.parentSize(),n=t.width,r=t.height,i=[],o=0,a=t.left,u=e.items.length,s=0;u>s;s++){var c=e.items[s],l=c.level();1==l||2==l&&l<e.level()||c.fixedLayoutWidth()?o+=c.width():i.push(s),s>0&&(o+=e.spacing())}for(var f=n-o,s=0,d=i.length;d>s;s++){var c=e.items[i[s]],h=f/(i.length-s),p=c.minWidth();p>h&&(h=p),f-=h,c.width(h)}for(var s=0;u>s;s++){var c=e.items[s];c.level()>3||"layout"==c.type()?c.height(r):c.top((r-c.height())/2),c.left(a),a+=c.width()+e.spacing()}}},j:{direction:"horizontal"}}),j.module("VBoxLayout",{b:"layout",g:{render:function(){var e=B(this.parent());e&&e.css("overflow","hidden")},updateLayout:function(){for(var e=this,t=e.parentSize(),n=t.width,r=t.height,i=[],o=0,a=t.top,u=e.spacing(),s=e.items.length,c=0;s>c;c++){var l=e.items[c],f=l.level();1!=f&&l.width(n),f>3&&f==e.level()&&!l.fixedLayoutHeight()?i.push(c):o+=l.height(),c>0&&(o+=u)}for(var c=0,d=r-o,h=i.length;h>c;c++){var l=e.items[i[c]],p=d/(h-c),m=l.minHeight();m>p&&(p=m),d-=p,l.height(p)}for(var c=0;s>c;c++){var l=e.items[c],p=l.height();if(d>0){var v=d/(s+1);v>0&&(a+=v)}l.top(a),a+=p+u}}},j:{direction:"vertical"}}),j.module("HArrayLayout",{b:"layout",g:{updateLayout:function(){for(var e=this,t=e.parentSize(),n=t.height,r=t.left,i=e.spacing(),o=e.items.length,a=0;o>a;a++){var u=e.items[a];if("layout"==u.type())switch(u.item().ui){case"HArrayLayout":case"VArrayLayout":u.item().update();break;default:u.height(n)}u.left(r),r+=u.width()+i}}},j:{direction:"horizontal"}}),j.module("VArrayLayout",{b:"layout",g:{updateLayout:function(){for(var e=this,t=e.parentSize(),n=t.width,r=t.top,i=e.spacing(),o=e.items.length,a=0;o>a;a++){var u=e.items[a];if("layout"==u.type())switch(u.item().ui){case"HArrayLayout":case"VArrayLayout":u.item().update();break;default:u.width(n)}u.top(r),r+=u.height()+i}}},j:{direction:"vertical"}}),W.plugin=g({f:{models:{},modules:{},exist:function(e){return e in W.plugin.modules},model:function(e,t){return v(e,t,W.plugin)},module:function(e,t){if(a(e)){if(t===r)return W.plugin.modules[e]||n}else t=e;a(e)&&i(t)&&(t=t.call(W,W.plugin)),t=p({},t);var o,u=[],s="prototype";return t.__constructor__=function(e,t){var n=this,r=n.init_opts(t);n.widget=e;for(var i=u.length-1;i>=0&&u[i].call(n,n,r,e)!==!1;i--);},(o=g(e,t,W.plugin))===n?o:(o[s].pluginName=e,h("on off once emit",function(e,t){o[s][t]=y[s][t]}),u=g.property(o,"main",!0),o)}},k:function(e){return W.plugin.modules[e]||n}}),W.plugin.module("drag",{e:{x:!0,y:!0,opacity:.7,handle:0,draggable:!0},j:{draggable:function(e){return this.opt("draggable",e)}},k:function(n,r,i){var o,a,u,s,c,l,d,h,p,m,v=0,g=1,b=B(t),y=i[0].offsetParent(),k=j.status;r.handle||(r.handle=i),r.on&&n.on(r.on),m=f(r.handle)?r.handle[0]:B(r.handle);var w=function(t){1!=k.resize&&(b.on({mousemove:_,mouseup:x}),v=1,g=i.opacity(),o=i.width(),a=i.height(),c=t.pageX-i[0].offsetLeft()-(int(y.css("borderLeftWidth")||0)||0),l=t.pageY-i[0].offsetTop()-(int(y.css("borderTopWidth")||0)||0),y.is("body")?(d=B(e).width(),h=B(e).height()):(d=y.clientWidth(),h=y.clientHeight()),n.emit("start",{left:t.pageX-c,top:t.pageY-l}))},x=function(e){b.off({mousemove:_,mouseup:x}),p&&p.remove(),0!=v&&1==k.drag&&(k.drag=0,i.opacity(g),n.emit("stop",{left:e.pageX-c,top:e.pageY-l}))},_=function(e){if(1==k.resize)return v=0,x(e),!1;if(1==v){var t=i[0].css("position");"absolute"!==t&&"fixed"!==t&&i[0].css("position","absolute"),i.opacity(r.opacity),p=j("locker",{renderTo:"body",cursor:"move",opacity:0,visible:!0}),v=2,k.drag=1}return 2==v&&(r.x&&(u=e.pageX-c,0>u?u=0:u+o>d&&(u=d-o),i.left(u)),r.y&&(s=e.pageY-l,0>s?s=0:s+a>h&&(s=h-a),i.top(s))),!1};m.on("mousedown",function(e){1==e.which&&1==r.draggable&&(e.preventDefault(),w(e))})}}),W.plugin.module("drop",{e:{},j:{},k:function(){}}),W.plugin.module("resize",{e:{top:!0,right:!0,bottom:!0,left:!0,opacity:.35,resizable:!0,className:"",minWidth:10,minHeight:10,border:"1px dotted #24415D",background:"rgb(90,176,249)"},c:"resizeStart resizeStop",j:{resizable:function(e){return this.opt("resizable",e)}},k:function(n,r,i){var o,a,u,s,c,l,f,d,h,p,m,v,g,b,y,k,w,x=0,_=0,S=0,T=i[0].css("cursor"),C="",F=B(e),A=B(t),L=i[0].offsetParent();L.contains("body")&&(L=F);var E=function(){c=i[0].offset(),v=c.x,g=c.y,p=i.width(),m=i.height()},N=function(e){return E(),d=L.offsetWidth()||L.width(),h=L.offsetHeight()||L.height(),x=i.minWidth(),_=i.minHeight(),p=i.width(),m=i.height(),b=e.pageX,y=e.pageY,w=i[0].offsetTop(),k=i[0].offsetLeft(),a=newDiv(r.className).css({position:"absolute",opacity:r.opacity,border:"1px dotted #24415D",background:r.background}).appendTo(L.is(F)?"body":L),s=a.boxSize(),u=L.boxSize(),l=u.borderTopWidth+u.borderBottomWidth,f=u.borderLeftWidth+u.borderRightWidth,a.css({width:p-s.width,height:m-s.height,left:k,top:w,zIndex:j.status.zIndex+2,cursor:C}),A.on({mousemove:H,mouseup:z}),o=j("locker",{renderTo:"body",cursor:C,opacity:0,visible:!0}),!1},z=function(){var e=a.offsetWidth(),t=a.offsetHeight(),n=a.offsetLeft(),u=a.offsetTop(),s={width:e,height:t,left:n,top:u};
i.size(e,t).left(n).top(u),o.remove(),a.remove(),A.off({mousemove:H,mouseup:z}),E(),r.on&&r.on.stop&&r.on.stop(s),j.status.resize=0},H=function(e){var t=e.pageX,n=e.pageY,i=function(){var e=w+n-y,t=m+y-n;t<r.minHeight||_>t||(0>e&&(e=0,t=m+w),a.css({top:e,height:t-s.height}))},o=function(){var e=p+t-b;e<r.minWidth||x>e||(e+k>d+l&&(e=d-k-l),a.width(e-s.width))},u=function(){var e=m+n-y;e<r.minHeight||_>e||(e+w>h+f&&(e=h-w-f),a.height(e-s.height))},c=function(){var e=k+t-b,n=p+b-t;n<r.minWidth||x>n||(0>e&&(e=0,n=p+k),a.css({left:e,width:n-s.width}))};switch(S){case 1:i();break;case 2:o();break;case 3:u();break;case 4:c();break;case 5:i(),c();break;case 6:i(),o();break;case 7:u(),o();break;case 8:u(),c()}},D=function(e){if(r.resizable&&1!=j.status.resize&&0==j.status.drag){var t=S,n="",o=e.pageX,a=e.pageY,u=r.top&&a>=g&&g+6>a,s=r.right&&o>v+p-6&&v+p>o,c=r.bottom&&a>g+m-6&&g+m>a,l=r.left&&o>=v&&v+6>o;u&&l?5!=S&&(S=5,n="nw-resize"):u&&s?6!=S&&(S=6,n="ne-resize"):c&&s?7!=S&&(S=7,n="se-resize"):c&&l?8!=S&&(S=8,n="sw-resize"):u?1!=S&&(S=1,n="n-resize"):s?2!=S&&(S=2,n="e-resize"):c?3!=S&&(S=3,n="s-resize"):l?4!=S&&(S=4,n="w-resize"):0!=S&&(S=0,n=T),t!=S&&(C=n,i[0].css("cursor",n))}},P=function(e){1==e.which&&0!=S&&(e.preventDefault(),E(),N(e),j.status.resize=1)},M=0;return i.on("mouseenter",function(){E(),0==M&&(M=1,i.on({mousemove:D,mousedown:P}))}),!1}}),W.plugin.module("contextMenu",{e:{ui:"Menu",handle:n,items:n,width:"auto",renderTo:"body"},h:{init:function(){var e=this,t=e.opts;e.menu=j(t.ui,{items:t.items,width:t.width,visible:!1,renderTo:t.renderTo,css:{position:"absolute"},on:{mousedown:m(!1),click:function(){e.hide()}}})},resize:function(t,n){var r=this,i=r.menu,o=i.width(),a=i.height(),u=B(r.opts.renderTo),s=u.offsetWidth(),c=u.offsetHeight(),l=B(e);u.is("body")&&(s=l.width(),c=l.height()),i.rect(t+o>s?s-o:t,n+a>c?c-a:n)}},j:{show:function(){var e=this,t=e.menu;return t&&!t.visible()&&(t.show(),e.emit("show")),e},hide:function(){var e=this,t=e.menu;return t&&t.visible()&&(t.hide(),e.emit("hide")),e},remove:function(){var e=this,t=e.menu;return f(t)&&t.remove(),e.widget[0].off("contextmenu",e._contextMenu),e}},k:function(e,n,r){var i=B(n.handle),o=!1;r[0].on("contextmenu",e._contextMenu=function(r){return 0==o&&(o=!0,e.init()),f(e.menu)&&B(n.renderTo)&&(!i||i.contains(r.target))?(B(t).once("mousedown",function(){e.hide()}),e.show().resize(r.pageX,r.pageY),!1):void 0})}}),W.screen=g({f:{resize:function(){}},k:function(){}}),W.render=g(function(){return{f:{html:function(e){var t={};return B.united("[std-ui]",e).each(function(e,n){var r=n.attr("std-ui"),i=n.attr("std-name");if(j.exist(r)){var o=j.createByElement(r,n);i&&o&&(t[i]=o)}}),t}},k:function(e,t){e===r?h("html",function(e,t){W.render[t]()}):(f(e)||d(e))&&(f(t)?e.renderTo(t):e.render())}}}),W.require=g({f:{loader:new L,basePath:function(e){return this.loader.basePath(e),this},on:function(e,t){return this.loader.on(e,t),this},off:function(e,t){return this.loader.on(e,t),this}},k:function(){var e=W.require.loader;e.require.apply(e,arguments)}}),H({".Std_Hidden":{visibility:"hidden"},".Std_wordwrap":{wordBreak:"break-all",wordWrap:"break-word"},".Std_wordnowrap":{overflow:"hidden",wordBreak:"keep-all",whiteSpace:"nowrap",textOverflow:"ellipsis"},".Std_unselect":function(){var e="user-select",t={};return h(W.init.platformPrefix,function(n,r){t[r+e]="none"}),t[e]="none",t}()}),M=W.main=g(function(){var o="status",a="loading",u="complete",s={},c=new W.holder,l=E.repository,f=new y,d=W.require.loader,h=!1;return{f:{state:!1,holder:c,hold:function(e){this.holder.hold(e)}},k:m(function(e,p){var m=function(){M.state="locked";for(var e=0;10>e;e++){var t=n;if(s[e])for(;t=s[e].shift();)t.call(W,W)}M.state=!0,f.emit("unlock")},v=function(){return 0==h?B(t).once("ready",v):d[o]==a?d.once(u,v):"reading"==l[o]?l.once("ready",v):l[o]==a?l.on(u,v):(c.complete(m,!0),void 0)};e===r?v():i(e)&&("locked"===M.state?f.once("unlock",function(){M(e,p)}):(s[p=p===r?9:p]||(s[p]=[]),s[p].push(e),v()))}),l:function(){function r(){o.off("load",i),a.off(u?c:l,i)}function i(){(u||e.event&&"load"===e.event.type||t.readyState===s)&&(r(),B.united("script").each(function(e,t){B.behaviorScript(t.dom,!1)}),h=!0,a.emit("ready"))}var o=B(e),a=B(t),u=t.addEventListener,s="complete",c="DOMContentLoaded",l="readystatechange";if(t.readyState==s)return i();if(u)a.on(c,i),o.on("load",i);else{a.on(l,i),o.on("load",i);var f=!1;try{f=e.frameElement==n&&t.documentElement}catch(d){}f&&f.doScroll?function p(){if(!h){try{f.doScroll("left")}catch(e){return m(p,30)()}i()}}():i()}}}})}(window,document,null,void 0,isFunction=function(e){return"function"==typeof e},isNumber=function(e){return"number"==typeof e},isString=function(e){return"string"==typeof e},isObject=function(e){return"object"==typeof e&&null!==e},isArray=function(e){return e instanceof Array},isPlainObject=function(){var e={}.hasOwnProperty,t="constructor";return function(n){if(!isObject(n)||n.nodeType||n===window)return!1;try{if(n[t]&&!e.call(n,t)&&!e.call(n[t].prototype,"isPrototypeOf"))return!1}catch(r){return!1}for(var i in n)if(!e.call(n,i))return!1;return!0}}(),isEmpty=function(e){if(null==e)return!0;if(isObject(e)&&!isArray(e)){for(var t in e)return!1;return!0}return 0===e.length},isWidget=function(e){return isObject(e)&&e instanceof Std.ui.modules.widget},isLayout=function(e){return isObject(e)&&e instanceof Std.ui.modules.layout},isBool=function(e){return"boolean"==typeof e},isElement=function(e){return isObject(e)&&1===e.nodeType},isNumeric=function(e){return!isNaN(float(e))&&isFinite(e)});