/**
    Std UI Kit Library
    http://ui.stdjs.com
    model: ui.Progress
	module: VProgress,HProgress
*/
Std.model("ui.Progress",{b:"widget",c:"finished change",e:{defaultClass:"StdUI_Progress",level:3,min:0,max:100,value:0,text:"%.2f%%",stripe:!1,stripeActive:!1,theme:"blue",finishedClass:"_finished"},j:{refresh:function(){return this.value(this.opts.value)},min:function(t){return this.opt("min",t,function(){this.refresh()})},max:function(t){return this.opt("max",t,function(){this.refresh()})},range:function(t,e){var i=this,n=i.opts;return void 0===t?{min:n.min,max:n.max}:i.refresh(n.min=t,n.max=e)},percent:function(t){var e=this,i=e.opts;return void 0==t?Std.convert.percent(int(i.value-i.min),i.max-i.min):e.value(int((i.max-i.min)*t/100))},stripe:function(t){return this.opt("stripe",t,function(){this.DOMMap.location.toggleClass("_stripe",t)})},stripeActive:function(t){var e=this,i=e.DOMMap;return e.opt("stripeActive",t,function(){e.stripe()&&(t?i.location.animate({from:{backgroundPosition:"0px 0px"},to:{backgroundPosition:"0 -40px"}},{duration:500,iterationCount:"infinite"}):i.location.animate("end"))})},text:function(t){var e=this,i=e.DOMMap;return e.opt("text",t,function(){i.texts.html(sprintf(t,e.percent(),e.value(),e.range().max))})},value:function(t){var e=this,i=e.opts;return void 0===t?i.value:(t>i.max?t=i.max:t<i.min&&(t=i.min),i.max==t?e.addClass(i.finishedClass).emit("finished"):i.value==i.max&&i.max!=t&&e.removeClass(i.finishedClass),i.value!==t&&e.emit("change",i.value=float(t)),e.updateProgress(t))},updateProgress:function(){return this}},k:function(t,e,i){var n=t.DOMMap={};i.addClass("_"+t._direction).append([n.text=newDiv("_text"),n.location=newDiv("_location").append(n.text2=newDiv("_text"))]),n.texts=Std.doms([n.text,n.text2]),t.call_opts({stripe:!1,stripeActive:!1},!0)},m:{rule:{content:"value"},html:{create:function(t){this.value(~~t.trimHTML())}}}}),Std.ui.module("HProgress",{a:"ui.Progress",e:{minWidth:35,minHeight:15},g:{width:function(t){var e=this,i=e.DOMMap;isNumber(t)||(t=e.width()),i.texts.width(t-e.boxSize.width),e.refresh()},height:function(t){var e=this,i=this.DOMMap;isNumber(t)||(t=e.height()),i.location.height(t-=e.boxSize.height),i.texts.css({height:t,lineHeight:t})}},h:{direction:"horizontal"},"public":{updateProgress:function(){var t=this,e=t.opts,i=e.width;return isNumber(i)||(i=t.width()-t.boxSize.width),t.DOMMap.location.width(int((t.value()-e.min)*(i/(e.max-e.min)))),t.text(e.text)}}}),Std.ui.module("VProgress",{a:"ui.Progress",e:{minHeight:35,minWidth:15,fixedWidth:!0},h:{direction:"vertical"},g:{width:function(t){var e=this,i=e.DOMMap;isNumber(t)||(t=e.width()),i.location.width(t-e.boxSize.width)},height:function(t){var e=this,i=this.DOMMap;isNumber(t)||(t=e.height()-e.boxSize.height),i.text.css({marginTop:(t-i.text.width())/2}),e.refresh()}},"public":{updateProgress:function(){var t=this,e=t.opts,i=t.DOMMap,n=e.height;isNumber(n)||(n=t.height()-t.boxSize.height);var r=int((t.value()-e.min)*(n/(e.max-e.min)));return i.location.height(r),i.text2.marginTop(-(n/2-r)+-(i.text2.width()/2)+3),t.text(e.text)}}}),Std.ui.module("CProgress",{a:"ui.Progress",e:{defaultClass:"StdUI_CircleProgress",tabIndex:null,value:0,minHeight:16,minWidth:16,fill:"white",strokeColor:"#57B0DC",strokeWidth:2,startAngle:0},g:{width:function(t){var e=this,i=e.DOMMap;isNumber(t)||(t=e.width()-e.boxSize.width),i.text.width(t),i.location.width(t),e.refresh()},height:function(t){var e=this,i=this.DOMMap;isNumber(t)||(t=e.height()-e.boxSize.height),i.location.height(t),i.text.css({height:t,lineHeight:t}),e.refresh()}},"public":{updateProgress:function(){{var t=this,e=t.opts,i=t.DOMMap,n=t.width()-e.strokeWidth,r=t.height()-e.strokeWidth;t.percent()}return i.circle.attr({cx:n/2+e.strokeWidth/2,cy:r/2+e.strokeWidth/2,rx:n/2,ry:r/2}).css({fill:e.fill,strokeWidth:e.strokeWidth}),t.text(e.text)}},k:function(t,e,i){var n=t.DOMMap={},r="http://www.w3.org/2000/svg";i.append([n.text=newDiv("_text"),n.location=Std.dom(document.createElementNS(r,"svg")).className("_location").append([n.circle=Std.dom(document.createElementNS(r,"ellipse")).className("_circle"),n.path=Std.dom(document.createElementNS(r,"path")).className("_path")])]),n.texts=Std.doms(n.text)}});