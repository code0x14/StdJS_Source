/**
  * Std UI Kit Library
  * http://ui.stdjs.com
  * module: StatusBar
*/
Std.ui.module("StatusBar",{b:"widget",c:"message change clear iconChange",e:{level:3,defaultClass:"StdUI_StatusBar",messageTimeout:"2s",icon:null,iconWidth:22,iconHeight:22,minHeight:15,tabIndex:null,text:"",items:null,itemsSide:"left",itemVerticalAlign:"middle",itemSpacing:4},h:{timer:null},n:{initDOMTree:function(){var t=this,e=t.DOMMap={};t[0].append([e.content=newDiv("_content Std_wordnowrap").append([e.text=newDiv("_text")]),e.items=newDiv("_items")])},initIcon:function(){var t=this,e=t.DOMMap,i=e.icon=newDiv("_icon");return e.text?i.insertBefore(e.text):i.appendTo(t[0]),t.call_opts({iconWidth:null,iconHeight:null},!0)}},g:{render:function(){var t=this;t.items(function(t,e){isWidget(e)&&!e.rendered&&e.render()}),t.updateItemsLayout()},destroy:function(){var t=this;t.clear()},height:function(){this.rendered&&this.updateItemsLayout()},remove:function(t){var e=this,i=null;void 0!==t&&(i=e._items.items(t))&&(i.destroy(),e._items.remove(t),e.rendered&&e.updateItemsLayout())}},i:{createItem:function(t){{var e=this;e.opts}return isWidget(t)?t.parent(this):Std.is.DOM(t)?t:isObject(t)&&t.ui?Std.ui(t.ui,t):null},updateItemsLayout:function(){var t=this,e=t.opts,i=t.DOMMap,n=t.height()-t.boxSize.height-t.boxSize.extraHeight,r=e.itemVerticalAlign;i.content.css({lineHeight:n}),i.icon&&isNumber(e.iconHeight)&&i.icon.marginTop((n-e.iconHeight)/2),t.items(function(t,i){var o=0,s=0;isWidget(i)?s=i.height():Std.is.DOM(i)&&(s=i.outerHeight()),"bottom"===r?o=n-s:"middle"===r&&(o=(n-s)/2),Std.dom(i).css({marginTop:o,marginLeft:e.itemSpacing})})}},j:{items:function(t,e){return this._items.items(t,e)},messageTimeout:function(t){return this.opt("messageTimeout",t)},itemSpacing:function(t){return this.opt("itemSpacing",t,function(){this.rendered&&this.updateItemsLayout()})},itemVerticalAlign:function(t){return this.opt("itemVerticalAlign",t,function(){this.rendered&&this.updateItemsLayout()})},itemsSide:function(t){return this.opt("itemsSide",t,function(){this.DOMMap.items.css("float",t)})},icon:function(t){var e=this,i=e.opts,n=e.DOMMap;return e.opt("icon",t,function(r){e.initIcon(),Std.icon.update(n.icon,t,{width:i.iconWidth,height:i.iconHeight}),e.rendered&&t!==r&&e.emit("iconChange",t)})},iconWidth:function(t){var e=this;return e.opt("iconWidth",t,function(){e.DOMMap.icon&&Std.icon.update(e.DOMMap.icon,{width:t})})},iconHeight:function(t){var e=this;return e.opt("iconHeight",t,function(){e.DOMMap.icon&&Std.icon.update(e.DOMMap.icon,{height:t})})},text:function(t){var e=this;return e.opt("text",t,function(i){e.DOMMap.text.html(t),e.rendered&&t!==i&&e.emit("change",t)})},message:function(t,e){var i=this,n=i.opts;return null!==i._timer&&clearTimeout(i._timer),e||(e=n.messageTimeout),i.DOMMap.text.html(t),i._timer=setTimeout(function(){i.text(i.text())},Std.convert.timeUnit(e)),i.emit("message",[t,e])},insert:function(t,e,i){var n=this,r=null;if(n._items.insert(t,e,i,function(t){return r=n.createItem(t)}),null===r)return!1;if(n.DOMMap.items.insert(Std.dom.get(r),i),n.rendered){var o=n.parent();isWidget(r)&&r.render(),o.ui&&"layoutItem"===o.ui&&o.parent().update()}return n},append:function(t,e){var i=this;return isArray(t)?Std.each(t,function(t,e){i.insert(e)}):i.insert(t,e),i.rendered&&i.updateItemsLayout(),i},clear:function(){var t=this,e=t.DOMMap;return null!==t._timer&&(clearTimeout(t._timer),t._timer=null),t.items(function(t,e){e.destroy()}),t._items.clear(),e.text.clear(),e.cells.clear(),t.emit("clear")}},k:function(t,e){t._items=Std.items(),t.initDOMTree(),t.call_opts({icon:null,itemsSide:"left"},!0),e.text&&t.text(e.text),e.items&&t.append(e.items)}});