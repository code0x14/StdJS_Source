/**
    Std UI Kit Library
    http://ui.stdjs.com
	module: Image
*/
Std.css({".StdUI_Image":{outline:"none",overflow:"hidden",display:"inline-block","*display":"inline","*zoom":1,">":{img:{"float":"left",width:"100%",height:"100%",border:0}}}}),Std.ui.module("Image",{b:"widget",e:{defaultClass:"StdUI_Image",level:1,type:"stretch",value:"",zoom:!0,gray:!1},j:{zoom:function(t){var e=this,a=e.DOMMap;return e.opt("zoom",t,function(){a.img&&a.img&&a.img.css(t?{width:"100%",height:"100%"}:{width:"auto",height:"auto"})})},toBase64:function(){var t=this,e=newDom("canvas").dom,a=e.getContext("2d");e.width=t._image.width,e.height=t._image.height,a.drawImage(t._image,0,0);var i=a.getImageData(0,0,e.width,e.height);return a.putImageData(i,0,0,0,0,i.width,i.height),e.toDataURL()},value:function(t){var e=this,a=e.opts,i=e.DOMMap;return this.opt("value",t,function(){e._image=null,i.img||(e[0].append(i.img=newDom("img")),e.zoom(a.zoom)),Std.loader.image(t,function(o,n){o!==!1&&(i.img.attr("src",t).show(),e.emit("load",e._image=n).gray(a.gray))})})},gray:function(t){var e=this;return e.opt("gray",t,function(){var a=e.opts.value;isEmpty(a)||null===e._image||t!==!1&&(Std.is.ie()?e[0].css("filter","grayscale(100%)"):e[0].css("filter",t?"progid:DXImageTransform.Microsoft.BasicImage(grayscale=1)":""),e.emit("gray",t))})}},k:function(t){t.DOMMap={},t.call_opts("value",!0)},m:{rule:{content:"value"},html:{nodeName:["DIV"],create:function(t){this.value(t.trimHTML())}}}});