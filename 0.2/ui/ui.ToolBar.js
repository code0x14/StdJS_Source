/**
    Std UI Kit Library
    http://ui.stdjs.com
	module: ToolBar
*/
Std.ui.module("ToolBar",{b:"widget",e:{level:3,minHeight:20,iconWidth:24,iconHeight:24,items:null,styleType:"textBesideIcon",defaultClass:"StdUI_ToolBar"},g:{beforeRender:function(){this._items.items(function(t,e){e.render()})},height:function(t){var e=this;isNumber(t)||(t=e.height()),e._items.items(function(i,n){var s=0;"sep"===n.ui?n.height(s=t-e.boxSize.height-e.boxSize.extraHeight):s=n.height(),s>t&&n.height(s=t),Std.dom(n).css("marginTop",(t-s)/2)})},enable:function(t){var e=this;e._items.items(function(e,i){isWidget(i)&&i.enable(t)})},destroy:function(){this.clear()},remove:function(t){var e=this,i=null;isObject(t)&&(t=e._items.indexOf(t)),(isNumber(t)||isString(t))&&(i=e._items.items(t))&&(i.destroy(),e._items.remove(t))}},i:{createTool:function(t,e){var i=this,n=i.opts,s=null;if(null==e&&(e=t,t=null),isWidget(e))s=e;else if(isString(e))s=Std.ui("ToolButton",{text:e,styleType:n.styleType,iconWidth:n.iconWidth,iconHeight:n.iconHeight});else if(Std.is.action(e))s=Std.ui("ToolButton",{styleType:n.styleType,action:e});else if(isObject(e)){var o={iconWidth:n.iconWidth,iconHeight:n.iconHeight};e.ui||(o.styleType=n.styleType),s=Std.ui(e.ui||"ToolButton",Std.extend(o,e))}return isWidget(s)&&(s.parent(i),isString(t)&&s.name(t)),s}},j:{items:function(t,e){return this._items.items(t,e)},insertSep:function(t){return this.insert({ui:"sep"},t)},appendSep:function(){return this.append({ui:"sep"})},append:Std.func(function(t,e){null==e&&(e=t,t=null);var i=this,n=i.createTool(t,e);null!==n&&(t||(t=n.name())?i._items.append(t,n):i._items.push(n),n.appendTo(i.DOMMap.buttons),i.rendered&&n.render())},{each:[isArray]}),insert:function(t,e,i){e==NULL?(e=t,t=void 0,i=-1):void 0===i&&("number"==typeof e?(i=e,e=t,t=void 0):i=-1);var n=this,s=n.createTool(e);return t||(t=s.name())?n._items.insert(t,s,i):n._items.insert(s,i),n.DOMMap.buttons.insert(s[0],i),n.rendered&&s.render(),n},clear:function(){var t=this,e=t._items;return e.items(function(t,e){e.destroy()}),e.clear(),t}},k:function(t,e,i){t._items=Std.items(),t.DOMMap={buttons:newDiv("_buttons").appendTo(i)},e.items&&t.append(e.items)},m:{rule:{children:"append"},html:{create:function(t){var e=this.opts,i=function(t){return Std.each("styleType iconWidth iconHeight",function(i,n){n in e&&(t[n]=e[n])}),t},n=function(t){var e=t.trimHTML(),n=i({icon:t.attr("std-icon"),name:t.attr("std-name"),action:t.attr("std-action")});return isEmpty(e)||(n.text=e),Std.extend(n,Std.options.get(t))};this.append(t.children(function(t,e){var i=e.attr("std-ui");return isString(i)&&Std.ui(i)?Std.ui.build(e,!1,{}):n(e)}))}}}});