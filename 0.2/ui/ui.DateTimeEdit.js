/**
    Std UI Kit Library
    http://ui.stdjs.com
	module: DateTimeEdit
*/
Std.ui.module("DateTimeEdit",{b:"LineEdit",e:{minWidth:32,minHeight:12,footer:!0,defaultClass:"StdUI_DateTimeEdit",align:"left",format:"yyyy-MM-dd hh:mm:ss"},h:{picker:null,pickerState:!1},g:{destroy:function(){var e=this;e._picker&&e._picker.destroy(),e.removeDocumentEvents()}},initialize:{initHandle:function(){var e=this;e[0].append(e.DOMMap.handle=newDiv("_handle").mouse({click:function(){e.enable()&&(e._pickerState?e.hidePicker():e.showPicker())}}))},initPicker:function(){var e=this,t=e.opts,i=e._picker=Std.ui("DatePicker",{footer:t.footer,format:t.format,renderTo:"body"});isEmpty(e.value())||i.value(e.value()),i.on("dateClick",function(){e.hidePicker(),e.value(i.value())}),i[0].css("position","absolute")}},i:{addDocumentEvents:function(){var e=this;return Std.dom(document).on("mousedown",e._documentEvents||(e._documentEvents=function(t){e[0].contains(t.target)||e._picker[0].contains(t.target)||(e.hidePicker(),e.removeDocumentEvents())})),e},removeDocumentEvents:function(){var e=this;return e._documentEvents&&Std.dom(document).off("mousedown",e._documentEvents),e}},j:{align:function(e){return this.opt("align",e)},showPicker:function(){var e=this;e.initPicker();var t=e._picker.removeClass("StdUI_DateTimeEdit_Hide").addClass("StdUI_DateTimeEdit_Show"),i=e[0].offset(),n=i.y+e.height(),o=i.x;return"center"===e.align()?o+=(e.width()-t.width())/2:"right"===e.align()&&(o+=e.width()-t.width()),t[0].css({top:n+t.height()>=Std.dom(document).height()?i.y-t.height()-1:n+1,left:o,zIndex:Std.ui.status.zIndex++}),e.addDocumentEvents(),e._pickerState=!0,e},hidePicker:function(){var e=this,t=e._picker;return t[0].removeClass("StdUI_DateTimeEdit_Show").addClass("StdUI_DateTimeEdit_Hide"),e.removeDocumentEvents(),e._pickerState=!1,e}},main:function(e){e.initHandle()}});